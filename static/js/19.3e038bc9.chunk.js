(this.webpackJsonpdispetcher=this.webpackJsonpdispetcher||[]).push([[19],{309:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var r,c=e(0),i=["title","titleId"];function a(){return(a=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function o(t,n){if(null==t)return{};var e,r,c=function(t,n){if(null==t)return{};var e,r,c={},i=Object.keys(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||(c[e]=t[e]);return c}(t,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(c[e]=t[e])}return c}function u(t,n){var e=t.title,u=t.titleId,s=o(t,i);return c.createElement("svg",a({width:31,height:24,viewBox:"0 0 31 24",xmlns:"http://www.w3.org/2000/svg",fill:"#7E7070",ref:n,"aria-labelledby":u},s),e?c.createElement("title",{id:u},e):null,r||(r=c.createElement("path",{d:"M10.5254 17.4302L4.4849 11.3897L4.13134 11.0362L3.77779 11.3897L1.64645 13.5211L1.29289 13.8746L1.64645 14.2282L10.1718 22.7536L10.5254 23.1071L10.8789 22.7536L29.1476 4.4849L29.5011 4.13134L29.1476 3.77779L27.0162 1.64645L26.6627 1.29289L26.3091 1.64645L10.5254 17.4302Z",stroke:"#7E7070"})))}var s=c.forwardRef(u);e.p},314:function(t,n,e){"use strict";var r=e(0),c=e(306),i=e(88),a=e(1);n.a=function(t){var n=t.open,e=t.onClose,o=t.children,u=Object(r.useRef)(null);return Object(a.jsx)(c.a,{in:n,timeout:300,classNames:"scale",unmountOnExit:!0,nodeRef:u,children:Object(a.jsx)(i.a,{ref:u,onClick:function(t){var n=u.current;n&&t.target!==n||e()},children:o})})}},315:function(t,n,e){"use strict";e.d(n,"i",(function(){return i})),e.d(n,"h",(function(){return a})),e.d(n,"f",(function(){return u})),e.d(n,"j",(function(){return s})),e.d(n,"c",(function(){return l})),e.d(n,"b",(function(){return f})),e.d(n,"e",(function(){return b})),e.d(n,"d",(function(){return p})),e.d(n,"a",(function(){return d})),e.d(n,"g",(function(){return j}));var r=e(12),c=e(94),i=function(t){return t.trips.trips},a=function(t){return t.trips.trip},o=function(t){return t.trips.period},u=function(t){return t.trips.route},s=function(t){return t.trips.typeTrip},l=function(t){return t.trips.loader},f=function(t){return t.trips.error},b=Object(c.a)(o,(function(t){if(t)return t.find((function(t){return t.hasOwnProperty("times")}))})),p=Object(c.a)(o,(function(t){if(t)return t.find((function(t){return t.hasOwnProperty("days")}))})),d=Object(c.a)(u,(function(t){return t.trips.currentStop}),(function(t,n){var e;return n||(null===(e=t[0])||void 0===e?void 0:e.locality.parent.id)})),j=Object(c.a)(u,(function(t){return t.trips.tariff}),(function(t,n){return t.length>0?t.reduce((function(e,c){var i=t.reduce((function(e,r,i){return c.locality.parent.id!==r.locality.parent.id&&(n.some((function(n){return n.fromId===c.locality.parent.id&&n.toId===t[i].locality.parent.id}))||t.findIndex((function(t){return t.locality.parent.id===c.locality.parent.id}))<=i&&e.push({fromId:c.locality.parent.id,toId:t[i].locality.parent.id,value:""})),e}),[]);return e.push.apply(e,Object(r.a)(i)),e}),Object(r.a)(n)):[]}))},323:function(t,n,e){"use strict";e.d(n,"a",(function(){return l})),e.d(n,"b",(function(){return f})),e.d(n,"c",(function(){return b})),e.d(n,"d",(function(){return p})),e.d(n,"f",(function(){return d})),e.d(n,"e",(function(){return j}));var r=e(70),c=e.n(r),i=e(89),a=e(7),o=e.n(a),u=e(42),s=e(93);o.a.defaults.baseURL="https://car.busis.eu";var l=function(){return function(){var t=Object(i.a)(c.a.mark((function t(n,e){var r,i,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=u.a(e())){t.next=3;break}return t.abrupt("return");case 3:return n(Object(s.n)()),t.prev=4,t.next=7,o()("/api/trip/all",{headers:{Authorization:r}});case 7:i=t.sent,a=i.data,n(Object(s.c)(a)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),n(Object(s.m)(t.t0));case 15:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(n,e){return t.apply(this,arguments)}}()},f=function(t){return function(){var n=Object(i.a)(c.a.mark((function n(e,r){var i,a,l;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=u.a(r())){n.next=3;break}return n.abrupt("return");case 3:return e(Object(s.n)()),n.prev=4,n.next=7,o()("/api/trip?tripId=".concat(t),{headers:{Authorization:i}});case 7:a=n.sent,l=a.data,e(Object(s.i)(l)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(4),e(Object(s.m)(n.t0));case 15:case"end":return n.stop()}}),n,null,[[4,12]])})));return function(t,e){return n.apply(this,arguments)}}()},b=function(t){return function(){var n=Object(i.a)(c.a.mark((function n(e,r){var i,a,l;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=u.a(r())){n.next=3;break}return n.abrupt("return");case 3:return e(Object(s.n)()),n.prev=4,n.next=7,o()("/api/trip/period?tripId=".concat(t),{headers:{Authorization:i}});case 7:a=n.sent,l=a.data,e(Object(s.j)(l)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(4),e(Object(s.m)(n.t0));case 15:case"end":return n.stop()}}),n,null,[[4,12]])})));return function(t,e){return n.apply(this,arguments)}}()},p=function(t){return function(){var n=Object(i.a)(c.a.mark((function n(e,r){var i,a,l;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=u.a(r())){n.next=3;break}return n.abrupt("return");case 3:return e(Object(s.n)()),n.prev=4,n.next=7,o()("/api/trip/route?tripId=".concat(t),{headers:{Authorization:i}});case 7:a=n.sent,l=a.data,e(Object(s.k)(l)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(4),e(Object(s.m)(n.t0));case 15:case"end":return n.stop()}}),n,null,[[4,12]])})));return function(t,e){return n.apply(this,arguments)}}()},d=function(t){return function(){var n=Object(i.a)(c.a.mark((function n(e,r){var i,a,l;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=u.a(r())){n.next=3;break}return n.abrupt("return");case 3:return e(Object(s.n)()),n.prev=4,n.next=7,o()("/api/trip/tariff?tripId=".concat(t),{headers:{Authorization:i}});case 7:a=n.sent,l=a.data,e(Object(s.l)(l)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(4),e(Object(s.m)(n.t0));case 15:case"end":return n.stop()}}),n,null,[[4,12]])})));return function(t,e){return n.apply(this,arguments)}}()},j=function(t){return function(){var n=Object(i.a)(c.a.mark((function n(e,r){var i,a,l;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=u.a(r())){n.next=3;break}return n.abrupt("return");case 3:return e(Object(s.n)()),n.prev=4,n.next=7,o()("/api/trip/route?tripId=".concat(t),{headers:{Authorization:i}});case 7:return a=n.sent,n.next=10,o()("/api/trip/tariff?tripId=".concat(t),{headers:{Authorization:i}});case 10:l=n.sent,e(Object(s.k)(a.data)),e(Object(s.l)(l.data)),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(4),e(Object(s.m)(n.t0));case 18:case"end":return n.stop()}}),n,null,[[4,15]])})));return function(t,e){return n.apply(this,arguments)}}()}},334:function(t,n,e){"use strict";var r,c,i,a,o=e(5),u=(e(0),e(4)),s=e(91),l=e(309),f=e(1);n.a=function(t){var n=t.name,e=t.onConfirm,r=t.onCancel;return Object(f.jsxs)(b,{children:[Object(f.jsxs)(p,{children:["\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c ",Object(f.jsxs)(p,{bold:!0,children:[" ",n]}),"?"]}),Object(f.jsxs)(d,{children:[Object(f.jsx)(j,{color:"successColor",onClick:e,children:Object(f.jsx)(l.a,{fill:"#ffffff"})}),Object(f.jsx)(j,{color:"warningColor",onClick:r,children:Object(f.jsx)(s.a,{fill:"#ffffff"})})]})]})};var b=u.b.div(r||(r=Object(o.a)(["\n  width: 320px;\n  padding: 20px;\n  border: ",";\n  border-radius: 4px;\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.55);\n  text-align: center;\n  background-color: #fff;\n"])),(function(t){return t.theme.border})),p=u.b.span(c||(c=Object(o.a)(["\n  display: inline-block;\n  font-size: 24px;\n  color: ",";\n  margin-bottom: ",";\n  font-weight: ",";\n"])),(function(t){return t.theme.textColorLight}),(function(t){return t.bold?0:"24px"}),(function(t){return t.bold?700:400})),d=u.b.div(i||(i=Object(o.a)(["\n  display: flex;\n  justify-content: space-around;\n"]))),j=u.b.button(a||(a=Object(o.a)(["\n  display: block;\n  width: 50px;\n  height: 50px;\n  color: ",";\n  cursor: pointer;\n  font-size: 18px;\n  font-weight: 400;\n  transition: font-weight 200ms linear;\n  border-radius: 50%;\n  border: none;\n  background: ",";\n  &:hover {\n    font-weight: 700;\n    transition: font-weight 200ms linear;\n  }\n"])),(function(t){return t.theme[t.color]}),(function(t){return t.theme[t.color]}))},427:function(t,n,e){"use strict";e.r(n);var r,c=e(5),i=e(0),a=e(21),o=e(31),u=e(4),s=e(92),l=e(70),f=e.n(l),b=e(89),p=e(27),d=e(423),j=["title","titleId"];function h(){return(h=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function O(t,n){if(null==t)return{};var e,r,c=function(t,n){if(null==t)return{};var e,r,c={},i=Object.keys(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||(c[e]=t[e]);return c}(t,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(c[e]=t[e])}return c}function x(t,n){var e=t.title,c=t.titleId,a=O(t,j);return i.createElement("svg",h({width:4,height:16,viewBox:"0 0 4 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":c},a),e?i.createElement("title",{id:c},e):null,r||(r=i.createElement("path",{d:"M2 4C3.1 4 4 3.1 4 2C4 0.9 3.1 0 2 0C0.9 0 0 0.9 0 2C0 3.1 0.9 4 2 4ZM2 6C0.9 6 0 6.9 0 8C0 9.1 0.9 10 2 10C3.1 10 4 9.1 4 8C4 6.9 3.1 6 2 6ZM2 12C0.9 12 0 12.9 0 14C0 15.1 0.9 16 2 16C3.1 16 4 15.1 4 14C4 12.9 3.1 12 2 12Z",fill:"black"})))}var v,m,g,w,y,k,C,I,L,E,z,A,P=i.forwardRef(x),S=(e.p,e(90)),T=e(42),D=e(93),R=e(314),V=e(334),B=e(1),F=function(t){var n=t.trip,e=Object(a.c)(),r=Object(a.d)(T.a),c=Object(i.useState)(null),o=Object(p.a)(c,2),u=o[0],s=o[1],l=Object(i.useState)(!1),j=Object(p.a)(l,2),h=j[0],O=j[1],x=Boolean(u),v=function(){return O(!h)},m=function(){var t=Object(b.a)(f.a.mark((function t(){var c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(S.r)(n.id,r);case 3:c=t.sent,200===c.status&&(O(!h),e(Object(D.f)(n.id))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e(Object(D.m)(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(b.a)(f.a.mark((function t(){var c,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s(null),t.prev=1,"ACTIVE"!==n.status){t.next=10;break}return t.next=5,Object(S.l)(n.id,r);case 5:c=t.sent,200===c.status&&e(Object(D.h)(n.id,"DISACTIVE")),t.next=15;break;case 10:return t.next=12,Object(S.a)(n.id,r);case 12:i=t.sent,200===i.status&&e(Object(D.h)(n.id,"ACTIVE"));case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(1),e(Object(D.m)(t.t0));case 20:case"end":return t.stop()}}),t,null,[[1,17]])})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(b.a)(f.a.mark((function t(){var c,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(S.i)(n.id,r);case 3:c=t.sent,i=c.data,e(Object(D.e)(i)),s(null),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e(Object(D.m)(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return Object(B.jsxs)(M,{children:[Object(B.jsxs)(Z,{children:["ACTIVE"===n.status?null:"\u041e\u0422\u041a\u041b\u042e\u0427\u0415\u041d",Object(B.jsx)(N,{children:n.name}),Object(B.jsx)(J,{children:n.tripNextDates&&n.tripNextDates.map((function(t,n){return Object(B.jsx)("li",{children:Object(B.jsxs)(U,{children:[t,", "]})},n)}))})]}),Object(B.jsx)(q,{onClick:function(t){s(t.currentTarget)},children:Object(B.jsx)(P,{})}),Object(B.jsxs)(d.a,{open:x,anchorEl:u,onClose:function(){s(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[Object(B.jsx)(G,{to:"/trip-edit?tripId=".concat(n.id),onClick:function(){return e(Object(D.o)("edit"))},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(B.jsx)(H,{onClick:w,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u0431\u0440\u0430\u0442\u043d\u044b\u0439 \u0440\u0435\u0439\u0441"}),Object(B.jsx)(H,{onClick:g,children:"ACTIVE"===n.status?"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c"}),Object(B.jsx)(H,{onClick:function(){O(!0),s(null)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]}),Object(B.jsx)(R.a,{open:h,onClose:v,children:Object(B.jsx)(V.a,{name:"".concat(n.name),onConfirm:m,onCancel:v})})]})},M=u.b.div(v||(v=Object(c.a)(["\n  display: flex;\n  border-bottom: ",";\n  padding-bottom: 12px;\n  margin-bottom: 12px;\n"])),(function(t){return t.theme.border})),Z=u.b.div(m||(m=Object(c.a)(["\n  width: 90%;\n"]))),N=u.b.p(g||(g=Object(c.a)(["\n  margin-bottom: 6px;\n  font-size: 18px;\n  color: ",";\n"])),(function(t){return t.theme.textColorDark})),J=u.b.ul(w||(w=Object(c.a)(["\n  padding: 0;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  & li {\n    display: inline;\n  }\n"]))),U=u.b.span(y||(y=Object(c.a)(["\n  font-size: 14px;\n"]))),q=u.b.div(k||(k=Object(c.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 10%;\n"]))),G=Object(u.b)(o.b)(C||(C=Object(c.a)(["\n  padding: 20px;\n  display: block;\n  border-bottom: ",";\n  color: ",";\n  &:hover {\n    background-color: #d4d4d4;\n  }\n"])),(function(t){return t.theme.border}),(function(t){return t.theme.textColorDark})),H=u.b.p(I||(I=Object(c.a)(["\n  padding: 20px;\n  border-bottom: ",";\n  cursor: pointer;\n  &:hover {\n    background-color: #d4d4d4;\n  }\n  &:last-child {\n    border-bottom: none;\n  }\n"])),(function(t){return t.theme.border})),K=e(323),Q=e(315),W=e(88),X=(n.default=function(){var t=Object(a.c)(),n=Object(a.d)(Q.i),e=Object(a.d)(Q.c),r=Object(a.d)(Q.b),c=Object(i.useCallback)((function(){return t(Object(K.a)())}),[t]);Object(i.useEffect)((function(){c()}),[c]);return e?Object(B.jsx)(W.e,{children:Object(B.jsx)(s.a,{type:"Oval",color:"#00BFFF",height:200,width:200})}):r?Object(B.jsx)("p",{children:r.message}):Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)(X,{children:[Object(B.jsx)(Y,{children:n.length>0?n.map((function(t){return Object(B.jsx)(F,{trip:t},t.id)})):Object(B.jsx)(_,{children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0441\u0432\u043e\u0439 \u043f\u0435\u0440\u0432\u044b\u0439 \u043c\u0430\u0440\u0448\u0440\u0443\u0442"})}),Object(B.jsx)($,{to:"/trip-main",onClick:function(){t(Object(D.o)("create"))},children:"+"})]})})},u.b.div(L||(L=Object(c.a)(["\n  padding: 10px 20px 100px;\n"])))),Y=u.b.ul(E||(E=Object(c.a)(["\n  margin: 0;\n  padding: 0;\n"]))),$=Object(u.b)(o.b)(z||(z=Object(c.a)(["\n  position: fixed;\n  bottom: 16px;\n  right: 16px;\n  width: 70px;\n  height: 70px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: none;\n  border-radius: 50%;\n  background-color: ",";\n  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.25);\n  color: ",";\n  font-size: 36px;\n"])),(function(t){return t.theme.mainColor}),(function(t){return t.theme.textColorLight})),_=u.b.p(A||(A=Object(c.a)(["\n  font-size: 24px;\n  text-align: center;\n"])))}}]);
//# sourceMappingURL=19.3e038bc9.chunk.js.map
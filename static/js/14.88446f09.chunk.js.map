{"version":3,"sources":["images/check.svg","images/arrowBack.svg","redux/trips/tripsSelectors.js","components/TripsContainer/TripHeader.js","redux/trips/tripsOperations.js","images/delete.svg","images/next.svg","components/TripsContainer/WeekDays.js","components/TripsContainer/MultiDatePicker.js","components/TripsContainer/Times.js","pages/TripPeriodsPage.js"],"names":["_path","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgCheck","_ref","svgRef","title","titleId","props","width","height","viewBox","xmlns","fill","ref","id","d","stroke","ForwardRef","SvgArrowBack","getTrips","state","trips","getTrip","trip","getPeriods","period","getRoute","route","getTypeTrip","typeTrip","getLoader","loader","getError","error","getPeriodTimes","createSelector","periods","find","el","getPeriodDays","getCurrentStop","currentStop","stop","locality","parent","getTariffsArray","tariff","tariffs","reduce","arr","fromArray","acc","item","ind","some","fromId","toId","findIndex","push","value","TripHeader","onGoBack","name","Header","onClick","style","cursor","Title","to","styled","div","prop","theme","mainColor","p","axios","defaults","baseURL","getAllTrips","dispatch","getState","a","auth","globalSelectors","tripsLoader","headers","Authorization","data","allTrips","tripsError","getTripId","tripId","getTripPeriod","tripPeriod","getTripRoute","tripRoute","getTripTarrif","tripTariff","getTripRouteAndTariff","SvgDelete","SvgNext","WeekDays","weekDays","changeWeekDay","Box","Label","Checkbox","type","checked","includes","onChange","label","input","MultiDatePicker","selectedDays","handleDayClick","day","selected","concat","selectedIndex","selectedDay","DateUtils","isSameDay","splice","setState","chooseDays","map","moment","format","newDays","days","Date","onDayClick","localeUtils","MomentLocaleUtils","locale","React","Component","Times","onRemove","visible","handleChange","TimeBox","InputsBox","mask","from","frequency","Minute","IconBox","Container","TripPeriodsPage","useDispatch","history","useHistory","location","useLocation","URLSearchParams","search","get","useSelector","getAuth","timePeriod","dayPeriod","useState","valueTime","setValueTime","valueDay","setValueDay","times","setTimes","setSelectedDays","dayError","setDayError","tripPeriodInfo","useCallback","useEffect","emptyPeriod","periodicity","changeValueTime","changeValueDay","changeTime","prev","filter","handleSubmit","requestData","time","addTripPeriod","pathname","SubTitle","InputBox","RadioInput","htmlFor","Flex","idx","message","color","h2"],"mappings":"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","file":"static/js/14.88446f09.chunk.js","sourcesContent":["var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCheck(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 31,\n    height: 24,\n    viewBox: \"0 0 31 24\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"#7E7070\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.5254 17.4302L4.4849 11.3897L4.13134 11.0362L3.77779 11.3897L1.64645 13.5211L1.29289 13.8746L1.64645 14.2282L10.1718 22.7536L10.5254 23.1071L10.8789 22.7536L29.1476 4.4849L29.5011 4.13134L29.1476 3.77779L27.0162 1.64645L26.6627 1.29289L26.3091 1.64645L10.5254 17.4302Z\",\n    stroke: \"#7E7070\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheck);\nexport default __webpack_public_path__ + \"static/media/check.fed458a5.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrowBack(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 30,\n    height: 20,\n    viewBox: \"0 0 30 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M30 8.33333H6.38333L12.35 2.35L10 0L0 10L10 20L12.35 17.65L6.38333 11.6667H30V8.33333Z\",\n    fill: \"#7E7070\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowBack);\nexport default __webpack_public_path__ + \"static/media/arrowBack.beea4bf3.svg\";\nexport { ForwardRef as ReactComponent };","import { createSelector } from 'reselect'\r\n\r\nexport const getTrips = state => state.trips.trips\r\nexport const getTrip = state => state.trips.trip\r\nexport const getPeriods = state => state.trips.period\r\nexport const getRoute = state => state.trips.route\r\nexport const getTariff = state => state.trips.tariff\r\nexport const currentStop = state => state.trips.currentStop\r\nexport const getTypeTrip = state => state.trips.typeTrip\r\nexport const getLoader = state => state.trips.loader\r\nexport const getError = state => state.trips.error\r\n\r\nexport const getPeriodTimes = createSelector(getPeriods, periods => {\r\n  if (periods) {\r\n    return periods.find(el => el.hasOwnProperty('times'))\r\n  }\r\n})\r\n\r\nexport const getPeriodDays = createSelector(getPeriods, periods => {\r\n  if (periods) {\r\n    return periods.find(el => el.hasOwnProperty('days'))\r\n  }\r\n})\r\n\r\nexport const getCurrentStop = createSelector(getRoute, currentStop, (route, stop) => {\r\n  return stop ? stop : route[0]?.locality.parent.id\r\n})\r\n\r\nexport const getTariffsArray = createSelector(getRoute, getTariff, (route, tariffs) => {\r\n  if (route.length > 0) {\r\n    return route.reduce(\r\n      (arr, el) => {\r\n        const fromArray = route.reduce((acc, item, ind) => {\r\n          if (el.locality.parent.id !== item.locality.parent.id) {\r\n            if (\r\n              !tariffs.some(\r\n                i =>\r\n                  i.fromId === el.locality.parent.id &&\r\n                  i.toId === route[ind].locality.parent.id\r\n              )\r\n            )\r\n              if (\r\n                route.findIndex(i => i.locality.parent.id === el.locality.parent.id) <=\r\n                ind\r\n              )\r\n                acc.push({\r\n                  fromId: el.locality.parent.id,\r\n                  toId: route[ind].locality.parent.id,\r\n                  value: '',\r\n                })\r\n          }\r\n          return acc\r\n        }, [])\r\n        arr.push(...fromArray)\r\n        return arr\r\n      },\r\n      [...tariffs]\r\n    )\r\n  }\r\n  return []\r\n})\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\nimport { ReactComponent as CloseIcon } from '../../images/close.svg'\r\nimport { ReactComponent as ArrowBackIcon } from '../../images/arrowBack.svg'\r\n\r\nconst TripHeader = ({ onGoBack, name = null }) => {\r\n  return (\r\n    <Header>\r\n      <div>\r\n        {onGoBack && <ArrowBackIcon onClick={onGoBack} style={{ cursor: 'pointer' }} />}\r\n        <Title>Рейс {name}</Title>\r\n      </div>\r\n      <Link to=\"/trips\">\r\n        <CloseIcon />\r\n      </Link>\r\n    </Header>\r\n  )\r\n}\r\n\r\nexport default TripHeader\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  background-color: ${prop => prop.theme.mainColor};\r\n  padding: 12.4px 24px;\r\n  & div {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n`\r\n\r\nconst Title = styled.p`\r\n  font-size: 24px;\r\n  padding-left: 12px;\r\n`\r\n","import axios from 'axios'\r\nimport * as globalSelectors from '../global/globalSelectors'\r\nimport {\r\n  allTrips,\r\n  tripId,\r\n  tripPeriod,\r\n  tripRoute,\r\n  tripsError,\r\n  tripsLoader,\r\n  tripTariff,\r\n} from './tripsActions'\r\n\r\naxios.defaults.baseURL = 'https://car.busis.eu'\r\n\r\nexport const getAllTrips = () => async (dispatch, getState) => {\r\n  const auth = globalSelectors.getAuth(getState())\r\n  if (!auth) return\r\n  dispatch(tripsLoader())\r\n  try {\r\n    const { data } = await axios('/api/trip/all', {\r\n      headers: { Authorization: auth },\r\n    })\r\n    dispatch(allTrips(data))\r\n  } catch (error) {\r\n    dispatch(tripsError(error))\r\n  }\r\n}\r\n\r\nexport const getTripId = id => async (dispatch, getState) => {\r\n  const auth = globalSelectors.getAuth(getState())\r\n  if (!auth) return\r\n  dispatch(tripsLoader())\r\n  try {\r\n    const { data } = await axios(`/api/trip?tripId=${id}`, {\r\n      headers: { Authorization: auth },\r\n    })\r\n    dispatch(tripId(data))\r\n  } catch (error) {\r\n    dispatch(tripsError(error))\r\n  }\r\n}\r\n\r\nexport const getTripPeriod = id => async (dispatch, getState) => {\r\n  const auth = globalSelectors.getAuth(getState())\r\n  if (!auth) return\r\n  dispatch(tripsLoader())\r\n  try {\r\n    const { data } = await axios(`/api/trip/period?tripId=${id}`, {\r\n      headers: { Authorization: auth },\r\n    })\r\n    dispatch(tripPeriod(data))\r\n  } catch (error) {\r\n    dispatch(tripsError(error))\r\n  }\r\n}\r\n\r\nexport const getTripRoute = id => async (dispatch, getState) => {\r\n  const auth = globalSelectors.getAuth(getState())\r\n  if (!auth) return\r\n  dispatch(tripsLoader())\r\n  try {\r\n    const { data } = await axios(`/api/trip/route?tripId=${id}`, {\r\n      headers: { Authorization: auth },\r\n    })\r\n    dispatch(tripRoute(data))\r\n  } catch (error) {\r\n    dispatch(tripsError(error))\r\n  }\r\n}\r\n\r\nexport const getTripTarrif = id => async (dispatch, getState) => {\r\n  const auth = globalSelectors.getAuth(getState())\r\n  if (!auth) return\r\n  dispatch(tripsLoader())\r\n  try {\r\n    const { data } = await axios(`/api/trip/tariff?tripId=${id}`, {\r\n      headers: { Authorization: auth },\r\n    })\r\n    dispatch(tripTariff(data))\r\n  } catch (error) {\r\n    dispatch(tripsError(error))\r\n  }\r\n}\r\n\r\nexport const getTripRouteAndTariff = id => async (dispatch, getState) => {\r\n  const auth = globalSelectors.getAuth(getState())\r\n  if (!auth) return\r\n  dispatch(tripsLoader())\r\n  try {\r\n    const route = await axios(`/api/trip/route?tripId=${id}`, {\r\n      headers: { Authorization: auth },\r\n    })\r\n    const tariff = await axios(`/api/trip/tariff?tripId=${id}`, {\r\n      headers: { Authorization: auth },\r\n    })\r\n    dispatch(tripRoute(route.data))\r\n    dispatch(tripTariff(tariff.data))\r\n  } catch (error) {\r\n    dispatch(tripsError(error))\r\n  }\r\n}\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDelete(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 14,\n    height: 18,\n    viewBox: \"0 0 14 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1 16C1 17.1 1.9 18 3 18H11C12.1 18 13 17.1 13 16V4H1V16ZM14 1H10.5L9.5 0H4.5L3.5 1H0V3H14V1Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDelete);\nexport default __webpack_public_path__ + \"static/media/delete.d4ee620d.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgNext(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 13,\n    height: 22,\n    viewBox: \"0 0 13 22\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2.5 0.5L0.0325012 2.9675L8.0475 11L0.0325012 19.0325L2.5 21.5L13 11L2.5 0.5Z\",\n    fill: \"#7E7070\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNext);\nexport default __webpack_public_path__ + \"static/media/next.8cc89455.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components'\r\n\r\nconst WeekDays = ({ weekDays, changeWeekDay }) => {\r\n  return (\r\n    <Box>\r\n      <Label>\r\n        <Checkbox\r\n          type=\"checkbox\"\r\n          name=\"MONDAY\"\r\n          checked={weekDays.includes('MONDAY')}\r\n          onChange={changeWeekDay}\r\n        />\r\n        ПН\r\n      </Label>{' '}\r\n      <Label>\r\n        <Checkbox\r\n          type=\"checkbox\"\r\n          name=\"TUESDAY\"\r\n          checked={weekDays.includes('TUESDAY')}\r\n          onChange={changeWeekDay}\r\n        />\r\n        ВТ\r\n      </Label>\r\n      <Label>\r\n        <Checkbox\r\n          type=\"checkbox\"\r\n          name=\"WEDNESDAY\"\r\n          checked={weekDays.includes('WEDNESDAY')}\r\n          onChange={changeWeekDay}\r\n        />\r\n        СР\r\n      </Label>\r\n      <Label>\r\n        <Checkbox\r\n          type=\"checkbox\"\r\n          name=\"THURSDAY\"\r\n          checked={weekDays.includes('THURSDAY')}\r\n          onChange={changeWeekDay}\r\n        />\r\n        ЧТ\r\n      </Label>\r\n      <Label>\r\n        <Checkbox\r\n          type=\"checkbox\"\r\n          name=\"FRIDAY\"\r\n          checked={weekDays.includes('FRIDAY')}\r\n          onChange={changeWeekDay}\r\n        />\r\n        ПТ\r\n      </Label>\r\n      <Label>\r\n        <Checkbox\r\n          type=\"checkbox\"\r\n          name=\"SATURDAY\"\r\n          checked={weekDays.includes('SATURDAY')}\r\n          onChange={changeWeekDay}\r\n        />\r\n        СБ\r\n      </Label>\r\n      <Label>\r\n        <Checkbox\r\n          type=\"checkbox\"\r\n          name=\"SUNDAY\"\r\n          checked={weekDays.includes('SUNDAY')}\r\n          onChange={changeWeekDay}\r\n        />\r\n        ВС\r\n      </Label>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default WeekDays\r\n\r\nconst Box = styled.div`\r\n  margin-bottom: 20px;\r\n  padding-top: 12px;\r\n`\r\nconst Label = styled.label`\r\n  margin-right: 6px;\r\n  font-size: 18px;\r\n  &:last-child {\r\n    margin: 0;\r\n  }\r\n`\r\n\r\nconst Checkbox = styled.input`\r\n  width: 15px;\r\n  height: 15px;\r\n`\r\n","import React from 'react'\r\nimport DayPicker, { DateUtils } from 'react-day-picker'\r\nimport 'react-day-picker/lib/style.css'\r\nimport moment from 'moment'\r\nimport MomentLocaleUtils from 'react-day-picker/moment'\r\nimport 'moment/locale/ru'\r\nimport 'moment/locale/en-gb'\r\nimport 'moment/locale/pl'\r\nimport 'moment/locale/uk'\r\n\r\nexport default class MultiDatePicker extends React.Component {\r\n  state = {\r\n    selectedDays: [],\r\n  }\r\n  componentDidMount() {\r\n    const newDays = this.props.days.map(el => new Date(el))\r\n    this.setState({ selectedDays: newDays })\r\n  }\r\n\r\n  handleDayClick = (day, { selected }) => {\r\n    const selectedDays = this.state.selectedDays.concat()\r\n    if (selected) {\r\n      const selectedIndex = selectedDays.findIndex(selectedDay =>\r\n        DateUtils.isSameDay(selectedDay, day)\r\n      )\r\n      selectedDays.splice(selectedIndex, 1)\r\n    } else {\r\n      selectedDays.push(day)\r\n    }\r\n    this.setState({ selectedDays })\r\n    this.props.chooseDays(selectedDays.map(el => moment(el).format('YYYY-MM-DD')))\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <DayPicker\r\n          selectedDays={this.state.selectedDays}\r\n          onDayClick={this.handleDayClick}\r\n          format=\"YYYY-MM-DD\"\r\n          localeUtils={MomentLocaleUtils}\r\n          locale=\"RU\"\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import styled from 'styled-components'\r\nimport InputMask from 'react-input-mask'\r\nimport { ReactComponent as DeleteIcon } from '../../images/delete.svg'\r\n\r\nconst Times = ({ el, onChange, onRemove, visible }) => {\r\n  const handleChange = ({ target }) => onChange(target.name, target.value, el.id)\r\n  const handleRemove = () => onRemove(el.id)\r\n\r\n  return (\r\n    <TimeBox>\r\n      <InputsBox>\r\n        <div>\r\n          <label>\r\n            Выполняется с{' '}\r\n            <InputMask\r\n              mask=\"99:99\"\r\n              type=\"text\"\r\n              name=\"from\"\r\n              value={el.from}\r\n              onChange={handleChange}\r\n            ></InputMask>\r\n          </label>\r\n        </div>\r\n        <div>\r\n          <label>\r\n            Каждые{' '}\r\n            <input\r\n              type=\"text\"\r\n              name=\"frequency\"\r\n              value={el.frequency}\r\n              onChange={handleChange}\r\n            ></input>{' '}\r\n          </label>\r\n        </div>\r\n        <div>\r\n          <label>\r\n            До{' '}\r\n            <InputMask\r\n              mask=\"99:99\"\r\n              type=\"text\"\r\n              name=\"to\"\r\n              value={el.to}\r\n              onChange={handleChange}\r\n            ></InputMask>\r\n          </label>\r\n        </div>\r\n      </InputsBox>\r\n      <Minute>минут</Minute>\r\n      <IconBox onClick={handleRemove}>{visible && <DeleteIcon />}</IconBox>\r\n    </TimeBox>\r\n  )\r\n}\r\n\r\nexport default Times\r\n\r\nconst TimeBox = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 0 1px 12px auto;\r\n`\r\nconst IconBox = styled.div`\r\n  width: 50px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\nconst Minute = styled.p`\r\n  width: 50px;\r\n  display: flex;\r\n  justify-content: center;\r\n`\r\nconst InputsBox = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  & div {\r\n    margin-bottom: 6px;\r\n  }\r\n  & input {\r\n    width: 60px;\r\n    text-align: center;\r\n  }\r\n`\r\n","import React, { useState, useEffect, useCallback } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport Loading from '../components/Loader'\r\nimport { Button, ButtonRound, ErrorText } from '../stylesheets/mainStyled'\r\nimport { ReactComponent as NextIcon } from '../images/next.svg'\r\nimport { ReactComponent as CheckIcon } from '../images/check.svg'\r\nimport { getAuth } from '../redux/global/globalSelectors'\r\nimport TripHeader from '../components/TripsContainer/TripHeader'\r\nimport WeekDays from '../components/TripsContainer/WeekDays'\r\nimport { tripPeriod, tripsError, tripsLoader } from '../redux/trips/tripsActions'\r\nimport {\r\n  getError,\r\n  getLoader,\r\n  getPeriodDays,\r\n  getPeriodTimes,\r\n  getTrip,\r\n  getTypeTrip,\r\n} from '../redux/trips/tripsSelectors'\r\nimport { getTripPeriod } from '../redux/trips/tripsOperations'\r\nimport MultiDatePicker from '../components/TripsContainer/MultiDatePicker'\r\nimport Times from '../components/TripsContainer/Times'\r\nimport { addTripPeriod } from '../services/apiMethods'\r\n\r\nconst useQuery = () => {\r\n  return new URLSearchParams(useLocation().search)\r\n}\r\nconst TripPeriodsPage = () => {\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const location = useLocation()\r\n  const query = useQuery()\r\n  const id = query.get('tripId')\r\n  const auth = useSelector(getAuth)\r\n  const trip = useSelector(getTrip)\r\n  const error = useSelector(getError)\r\n  const loader = useSelector(getLoader)\r\n  const timePeriod = useSelector(getPeriodTimes)\r\n  const dayPeriod = useSelector(getPeriodDays)\r\n  const typeTrip = useSelector(getTypeTrip)\r\n\r\n  const [valueTime, setValueTime] = useState('ONE_TIME')\r\n  const [valueDay, setValueDay] = useState('EVERY_DAY')\r\n\r\n  const [times, setTimes] = useState([{ id: 0, frequency: '', from: '', to: '' }])\r\n  const [selectedDays, setSelectedDays] = useState([])\r\n  const [dayError, setDayError] = useState('')\r\n\r\n  // получаем данные о переодичности маршрута\r\n  const tripPeriodInfo = useCallback(id => dispatch(getTripPeriod(id)), [dispatch])\r\n  useEffect(() => {\r\n    if (trip.emptyPeriod) return\r\n    tripPeriodInfo(id)\r\n  }, [id, trip, tripPeriodInfo])\r\n\r\n  // изменяем данные о переодичности маршрута\r\n  useEffect(() => {\r\n    if (timePeriod) {\r\n      setValueTime(timePeriod.periodicity)\r\n      setTimes(timePeriod.times)\r\n    }\r\n    if (dayPeriod) {\r\n      setValueDay(dayPeriod.periodicity)\r\n      setSelectedDays(dayPeriod.days)\r\n    }\r\n  }, [dayPeriod, timePeriod])\r\n\r\n  //   хедер вернуться назад\r\n  const onGoBack = () => {\r\n    dispatch(tripsError(null))\r\n    history.push(location.state.from)\r\n  }\r\n  // переключатель переодичности времени\r\n  const changeValueTime = ({ target }) => setValueTime(target.value)\r\n  // переключатель переодичности дней\r\n  const changeValueDay = ({ target }) => {\r\n    setDayError('')\r\n    setSelectedDays([])\r\n    setValueDay(target.value)\r\n  }\r\n\r\n  //   масив переодичности времени\r\n  const changeTime = (name, value, id) => {\r\n    setTimes(prev =>\r\n      prev.reduce((arr, el) => {\r\n        arr.push(el.id === id ? { ...el, [name]: value } : el)\r\n        return arr\r\n      }, [])\r\n    )\r\n  }\r\n\r\n  //   добавляем время в расписание\r\n  const addTimesArray = () =>\r\n    setTimes(prev => [\r\n      ...prev,\r\n      { id: prev[prev.length - 1].id + 1, frequency: '', from: '', to: '' },\r\n    ])\r\n  // удаляем время в расписании\r\n  const onRemove = id => setTimes(prev => prev.filter(el => el.id !== id))\r\n\r\n  const changeWeekDay = ({ target }) => {\r\n    if (dayError) setDayError('')\r\n    if (selectedDays.includes(target.name))\r\n      setSelectedDays(prev => prev.filter(el => el !== target.name))\r\n    if (!selectedDays.includes(target.name))\r\n      setSelectedDays(prev => [...prev, target.name])\r\n  }\r\n  const chooseDays = arr => {\r\n    if (dayError) setDayError('')\r\n    setSelectedDays(arr)\r\n  }\r\n\r\n  const handleSubmit = async () => {\r\n    const requestData = []\r\n\r\n    if (valueTime !== 'ONE_TIME') {\r\n      const time = {\r\n        periodicity: 'TIMES',\r\n        times: times,\r\n      }\r\n      requestData.push(time)\r\n    }\r\n\r\n    const days = { periodicity: valueDay, days: [] }\r\n    if (valueDay === 'WEEK_DAYS') {\r\n      if (selectedDays.length <= 0) {\r\n        setDayError('Необходимо выбрать дни недели')\r\n        return\r\n      }\r\n      days.days = selectedDays\r\n    }\r\n    if (valueDay === 'DAYS') {\r\n      if (selectedDays.length <= 0) {\r\n        setDayError('Необходимо выбрать даты')\r\n        return\r\n      }\r\n      days.days = selectedDays\r\n    }\r\n    requestData.push(days)\r\n    dispatch(tripsLoader())\r\n    try {\r\n      const { data } = await addTripPeriod(requestData, id, auth)\r\n      dispatch(tripPeriod(data))\r\n      typeTrip === `edit`\r\n        ? history.push({ pathname: `/trip-edit`, search: `?tripId=${id}` })\r\n        : history.push({\r\n            pathname: `/trip-route`,\r\n            search: `?tripId=${id}`,\r\n            state: { from: `/trip-periods?tripId=${id}` },\r\n          })\r\n    } catch (error) {\r\n      dispatch(tripsError(error))\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      <TripHeader onGoBack={onGoBack} name={trip.name} />\r\n      <Container>\r\n        <Title>Расписание </Title>\r\n        <SubTitle>\r\n          (укажите когда, во сколько и как часто будет выполняться рейс)\r\n        </SubTitle>\r\n        <div>\r\n          <InputBox>\r\n            <RadioInput\r\n              id=\"oneTime\"\r\n              type=\"radio\"\r\n              value=\"ONE_TIME\"\r\n              checked={valueTime === 'ONE_TIME'}\r\n              onChange={changeValueTime}\r\n            />\r\n            <Label htmlFor=\"oneTime\">Выполняется раз в день</Label>\r\n          </InputBox>\r\n          <InputBox>\r\n            <RadioInput\r\n              id=\"times\"\r\n              type=\"radio\"\r\n              value=\"TIMES\"\r\n              checked={valueTime === 'TIMES'}\r\n              onChange={changeValueTime}\r\n            />\r\n            <Label htmlFor=\"times\"> Выполняется несколько раз в день</Label>\r\n          </InputBox>\r\n\r\n          {valueTime === 'TIMES' && (\r\n            <Flex>\r\n              {times.map((el, idx) => (\r\n                <Times\r\n                  key={el.id}\r\n                  el={el}\r\n                  onChange={changeTime}\r\n                  onRemove={onRemove}\r\n                  visible={times.length > 1}\r\n                />\r\n              ))}\r\n              <Button onClick={addTimesArray}>Ещё</Button>\r\n            </Flex>\r\n          )}\r\n        </div>\r\n        <div>\r\n          <InputBox>\r\n            <RadioInput\r\n              id=\"everyDay\"\r\n              type=\"radio\"\r\n              value=\"EVERY_DAY\"\r\n              checked={valueDay === 'EVERY_DAY'}\r\n              onChange={changeValueDay}\r\n            />\r\n            <Label htmlFor=\"everyDay\">Выполняется каждый день</Label>\r\n          </InputBox>\r\n          <InputBox>\r\n            <RadioInput\r\n              id=\"weekDays\"\r\n              type=\"radio\"\r\n              value=\"WEEK_DAYS\"\r\n              checked={valueDay === 'WEEK_DAYS'}\r\n              onChange={changeValueDay}\r\n            />\r\n            <Label htmlFor=\"weekDays\"> Выполняется по дням недели</Label>\r\n          </InputBox>\r\n          {valueDay === 'WEEK_DAYS' && (\r\n            <WeekDays weekDays={selectedDays} changeWeekDay={changeWeekDay} />\r\n          )}\r\n          <InputBox>\r\n            <RadioInput\r\n              id=\"days\"\r\n              type=\"radio\"\r\n              value=\"DAYS\"\r\n              checked={valueDay === 'DAYS'}\r\n              onChange={changeValueDay}\r\n            />\r\n            <Label htmlFor=\"days\"> Выполняется по датам</Label>\r\n          </InputBox>\r\n          {valueDay === 'DAYS' && (\r\n            <MultiDatePicker chooseDays={chooseDays} days={selectedDays} />\r\n          )}\r\n          {dayError && <ErrorText>{dayError}</ErrorText>}\r\n        </div>\r\n        {error && <ErrorText>{error.message}</ErrorText>}\r\n        <ButtonRound type=\"submit\" onClick={handleSubmit}>\r\n          {loader ? (\r\n            <Loading type=\"ThreeDots\" color=\"#00BFFF\" height={15} width={40} />\r\n          ) : typeTrip === 'edit' ? (\r\n            <CheckIcon />\r\n          ) : (\r\n            <NextIcon />\r\n          )}\r\n        </ButtonRound>\r\n      </Container>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default TripPeriodsPage\r\n\r\nconst Container = styled.div`\r\n  position: relative;\r\n  padding: 10px 20px;\r\n  & > div {\r\n    width: 320px;\r\n    margin: 0 auto 20px;\r\n  }\r\n`\r\n\r\nconst Title = styled.h2`\r\n  font-size: 24px;\r\n  text-align: center;\r\n  font-weight: 400;\r\n`\r\nconst SubTitle = styled.p`\r\n  font-size: 18px;\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n`\r\nconst RadioInput = styled.input`\r\n  width: 18px;\r\n  height: 18px;\r\n  margin: 0 12px 0 0;\r\n`\r\nconst InputBox = styled.div`\r\n  display: flex;\r\n  margin-bottom: 6px;\r\n`\r\nconst Label = styled.label`\r\n  font-size: 18px;\r\n`\r\nconst Flex = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  padding-top: 12px;\r\n`\r\n"],"sourceRoot":""}
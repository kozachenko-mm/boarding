{"version":3,"sources":["images/check.svg","images/arrowBack.svg","redux/trips/tripsSelectors.js","components/TripsContainer/TripHeader.js","components/TripsContainer/MapGoogle.js","components/TripsContainer/SearchForm.js","pages/TripRouteMapPage.js"],"names":["_path","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgCheck","_ref","svgRef","title","titleId","props","width","height","viewBox","xmlns","fill","ref","id","d","stroke","ForwardRef","SvgArrowBack","getTrips","state","trips","getTrip","trip","getPeriods","period","getRoute","route","getTypeTrip","typeTrip","getLoader","loader","getError","error","getPeriodTimes","createSelector","periods","find","el","getPeriodDays","getCurrentStop","currentStop","stop","locality","parent","getTariffsArray","tariff","tariffs","reduce","arr","fromArray","acc","item","ind","some","fromId","toId","findIndex","push","value","TripHeader","onGoBack","name","Header","onClick","style","cursor","Title","to","styled","div","prop","theme","mainColor","p","containerStyle","center","lat","lng","libraries","options","disableDefaultUI","fullscreenControl","MapGoogle","markerLocality","addMarker","markerStop","handleClick","e","draggableMarker","latLng","useLoadScript","googleMapsApiKey","isLoaded","loadError","mapContainerStyle","zoom","position","icon","path","fillColor","scale","strokeColor","strokeWeight","draggable","onDragEnd","SearchForm","chooseLocality","time","onChangeTime","onChangeStop","auth","useSelector","getAuth","useState","text","description","setLocality","setOptions","getOtpions","a","undefined","getCityList","data","Form","Flex","StyledInputMask","mask","type","onChange","placeholder","Autocomplete","noOptionsText","autoHighlight","blurOnSelect","getOptionLabel","option","getOptionSelected","o","v","event","renderOption","className","renderInput","params","StyledTextField","onFocus","variant","StyledInput","form","InputMask","TextField","input","TripRouteMapPage","dispatch","useDispatch","history","useHistory","URLSearchParams","useLocation","search","get","setMarkerLocality","setMarkerStop","setTime","address","setAddress","setParent","setError","handleSubmit","newStop","departureTime","split","RU","latitude","longitude","addNewStop","pathname","from","val","h2"],"mappings":"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","file":"static/js/23.3a44c110.chunk.js","sourcesContent":["var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCheck(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 31,\n    height: 24,\n    viewBox: \"0 0 31 24\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"#7E7070\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.5254 17.4302L4.4849 11.3897L4.13134 11.0362L3.77779 11.3897L1.64645 13.5211L1.29289 13.8746L1.64645 14.2282L10.1718 22.7536L10.5254 23.1071L10.8789 22.7536L29.1476 4.4849L29.5011 4.13134L29.1476 3.77779L27.0162 1.64645L26.6627 1.29289L26.3091 1.64645L10.5254 17.4302Z\",\n    stroke: \"#7E7070\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheck);\nexport default __webpack_public_path__ + \"static/media/check.fed458a5.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrowBack(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 30,\n    height: 20,\n    viewBox: \"0 0 30 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M30 8.33333H6.38333L12.35 2.35L10 0L0 10L10 20L12.35 17.65L6.38333 11.6667H30V8.33333Z\",\n    fill: \"#7E7070\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowBack);\nexport default __webpack_public_path__ + \"static/media/arrowBack.beea4bf3.svg\";\nexport { ForwardRef as ReactComponent };","import { createSelector } from 'reselect'\r\n\r\nexport const getTrips = state => state.trips.trips\r\nexport const getTrip = state => state.trips.trip\r\nexport const getPeriods = state => state.trips.period\r\nexport const getRoute = state => state.trips.route\r\nexport const getTariff = state => state.trips.tariff\r\nexport const currentStop = state => state.trips.currentStop\r\nexport const getTypeTrip = state => state.trips.typeTrip\r\nexport const getLoader = state => state.trips.loader\r\nexport const getError = state => state.trips.error\r\n\r\nexport const getPeriodTimes = createSelector(getPeriods, periods => {\r\n  if (periods) {\r\n    return periods.find(el => el.hasOwnProperty('times'))\r\n  }\r\n})\r\n\r\nexport const getPeriodDays = createSelector(getPeriods, periods => {\r\n  if (periods) {\r\n    return periods.find(el => el.hasOwnProperty('days'))\r\n  }\r\n})\r\n\r\nexport const getCurrentStop = createSelector(getRoute, currentStop, (route, stop) => {\r\n  return stop ? stop : route[0]?.locality.parent.id\r\n})\r\n\r\nexport const getTariffsArray = createSelector(getRoute, getTariff, (route, tariffs) => {\r\n  if (route.length > 0) {\r\n    return route.reduce(\r\n      (arr, el) => {\r\n        const fromArray = route.reduce((acc, item, ind) => {\r\n          if (el.locality.parent.id !== item.locality.parent.id) {\r\n            if (\r\n              !tariffs.some(\r\n                i =>\r\n                  i.fromId === el.locality.parent.id &&\r\n                  i.toId === route[ind].locality.parent.id\r\n              )\r\n            )\r\n              if (\r\n                route.findIndex(i => i.locality.parent.id === el.locality.parent.id) <=\r\n                ind\r\n              )\r\n                acc.push({\r\n                  fromId: el.locality.parent.id,\r\n                  toId: route[ind].locality.parent.id,\r\n                  value: '',\r\n                })\r\n          }\r\n          return acc\r\n        }, [])\r\n        arr.push(...fromArray)\r\n        return arr\r\n      },\r\n      [...tariffs]\r\n    )\r\n  }\r\n  return []\r\n})\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\nimport { ReactComponent as CloseIcon } from '../../images/close.svg'\r\nimport { ReactComponent as ArrowBackIcon } from '../../images/arrowBack.svg'\r\n\r\nconst TripHeader = ({ onGoBack, name = null }) => {\r\n  return (\r\n    <Header>\r\n      <div>\r\n        {onGoBack && <ArrowBackIcon onClick={onGoBack} style={{ cursor: 'pointer' }} />}\r\n        <Title>Рейс {name}</Title>\r\n      </div>\r\n      <Link to=\"/trips\">\r\n        <CloseIcon />\r\n      </Link>\r\n    </Header>\r\n  )\r\n}\r\n\r\nexport default TripHeader\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  background-color: ${prop => prop.theme.mainColor};\r\n  padding: 12.4px 24px;\r\n  & div {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n`\r\n\r\nconst Title = styled.p`\r\n  font-size: 24px;\r\n  padding-left: 12px;\r\n`\r\n","import React from 'react'\r\nimport { GoogleMap, Marker, useLoadScript } from '@react-google-maps/api'\r\n\r\nconst containerStyle = {\r\n  width: '100%',\r\n  height: '100vh',\r\n}\r\n\r\nconst center = { lat: 50.459464553226276, lng: 30.508677308652825 }\r\nconst libraries = ['places']\r\n\r\nconst options = {\r\n  disableDefaultUI: true,\r\n  fullscreenControl: true,\r\n}\r\n\r\nconst MapGoogle = ({ markerLocality, addMarker, markerStop }) => {\r\n  const handleClick = e => {\r\n    addMarker(null)\r\n  }\r\n\r\n  const draggableMarker = e => {\r\n    addMarker({ lat: e.latLng.lat(), lng: e.latLng.lng() })\r\n  }\r\n\r\n  const { isLoaded, loadError } = useLoadScript({\r\n    googleMapsApiKey: 'AIzaSyAtgS0WZuGagfU_EcB3040McorR8fOxaMo',\r\n    libraries,\r\n  })\r\n\r\n  const renderMap = () => {\r\n    return (\r\n      <GoogleMap\r\n        options={options}\r\n        mapContainerStyle={containerStyle}\r\n        zoom={10}\r\n        center={markerLocality || center}\r\n        onClick={draggableMarker}\r\n      >\r\n        <Marker\r\n          position={markerLocality}\r\n          icon={{\r\n            path: 'M15 11V5l-3-3-3 3v2H3v14h18V11h-6zm-8 8H5v-2h2v2zm0-4H5v-2h2v2zm0-4H5V9h2v2zm6 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V9h2v2zm0-4h-2V5h2v2zm6 12h-2v-2h2v2zm0-4h-2v-2h2v2z',\r\n            fillColor: 'red',\r\n            // fillOpacity: 0.9,\r\n            scale: 1.5,\r\n            strokeColor: '#910101',\r\n            strokeWeight: 1,\r\n          }}\r\n        />\r\n\r\n        <Marker\r\n          position={markerStop}\r\n          draggable={true}\r\n          onDragEnd={draggableMarker}\r\n          onClick={handleClick}\r\n        />\r\n      </GoogleMap>\r\n    )\r\n  }\r\n\r\n  if (loadError) {\r\n    return <div>Map cannot be loaded right now, sorry.</div>\r\n  }\r\n\r\n  return isLoaded && renderMap()\r\n}\r\n\r\nexport default MapGoogle\r\n","import React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport styled from 'styled-components'\r\nimport InputMask from 'react-input-mask'\r\nimport Autocomplete from '@material-ui/lab/Autocomplete'\r\nimport { TextField } from '@material-ui/core'\r\nimport { getCityList } from '../../services/apiMethods'\r\nimport { getAuth } from '../../redux/global/globalSelectors'\r\n\r\nconst SearchForm = ({ chooseLocality, time, onChangeTime, onChangeStop, stop }) => {\r\n  const auth = useSelector(getAuth)\r\n  const [locality, setLocality] = useState({ text: '', description: '' })\r\n  const [options, setOptions] = useState([])\r\n\r\n  const getOtpions = async target => {\r\n    setOptions([])\r\n    if (target.value === null || target.value === undefined) return\r\n    if (target.value.length >= 3)\r\n      try {\r\n        const { data } = await getCityList(target.value, auth)\r\n        setOptions(data)\r\n      } catch (error) {}\r\n  }\r\n  return (\r\n    <Form>\r\n      <Flex>\r\n        <StyledInputMask\r\n          mask=\"99:99\"\r\n          type=\"text\"\r\n          name=\"time\"\r\n          value={time}\r\n          onChange={onChangeTime}\r\n          placeholder=\"Время\"\r\n        />\r\n        <Autocomplete\r\n          id=\"from\"\r\n          options={options}\r\n          noOptionsText=\"введите минимум 3 символа\"\r\n          autoHighlight\r\n          value={locality}\r\n          blurOnSelect={true}\r\n          getOptionLabel={option => option.text}\r\n          getOptionSelected={(o, v) => o !== v}\r\n          onChange={(event, value) => {\r\n            if (value) {\r\n              setLocality(value)\r\n              chooseLocality(value)\r\n            }\r\n          }}\r\n          renderOption={option => (\r\n            <div>\r\n              <span className=\"acMainOption\">{option.text}</span>\r\n              <span> - {option.description}</span>\r\n            </div>\r\n          )}\r\n          renderInput={params => (\r\n            <StyledTextField\r\n              {...params}\r\n              onFocus={({ target }) => {\r\n                getOtpions(target)\r\n              }}\r\n              onChange={({ target }) => {\r\n                getOtpions(target)\r\n              }}\r\n              variant=\"outlined\"\r\n              placeholder=\"Выберите город\"\r\n            />\r\n          )}\r\n        />\r\n      </Flex>\r\n\r\n      <StyledInput\r\n        type=\"text\"\r\n        name=\"stop\"\r\n        value={stop}\r\n        onChange={onChangeStop}\r\n        placeholder=\"Описание остановки\"\r\n      />\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default SearchForm\r\n\r\nconst Form = styled.form`\r\n  padding: 10px 20px;\r\n`\r\nconst StyledInputMask = styled(InputMask)`\r\n  padding: 6px 6px;\r\n  width: 70px;\r\n  text-align: center;\r\n  border-radius: 4px;\r\n  border: 1px solid #000;\r\n  margin-right: 6px;\r\n`\r\n\r\nconst StyledTextField = styled(TextField)`\r\n  label {\r\n    color: #000;\r\n  }\r\n  label.Mui-focused {\r\n    color: #000;\r\n  }\r\n  .MuiOutlinedInput-root {\r\n    fieldset {\r\n      border: 1px solid #000;\r\n    }\r\n    &:hover fieldset {\r\n      border: 1px solid #000;\r\n    }\r\n    &.Mui-focused fieldset {\r\n      border: 1px solid #000;\r\n    }\r\n  }\r\n\r\n  .MuiInputBase-input {\r\n    color: #000;\r\n    font-family: 'HelveticaNeueCyr';\r\n    font-size: 18px;\r\n    font-weight: 500;\r\n    cursor: pointer;\r\n  }\r\n  .MuiOutlinedInput-input {\r\n    padding: 0;\r\n  }\r\n  .MuiAutocomplete-hasPopupIcon.MuiAutocomplete-hasClearIcon\r\n    .MuiAutocomplete-inputRoot[class*='MuiOutlinedInput-root'] {\r\n    padding-right: 10px;\r\n  }\r\n  .MuiAutocomplete-inputRoot[class*='MuiOutlinedInput-root'] .MuiAutocomplete-input {\r\n    padding: 0;\r\n  }\r\n  .MuiIconButton-root {\r\n    color: red;\r\n    display: none;\r\n  }\r\n  .MuiAutocomplete-popupIndicator {\r\n    display: none;\r\n  }\r\n  .MuiFormControl-marginNormal {\r\n    margin: 0;\r\n  }\r\n  .MuiFormLabel-root {\r\n    font-family: 'HelveticaNeueCyr';\r\n  }\r\n`\r\nconst Flex = styled.div`\r\n  display: flex;\r\n  margin-bottom: 6px;\r\n`\r\nconst StyledInput = styled.input`\r\n  padding: 6px 12px;\r\n  width: 100%;\r\n  border-radius: 4px;\r\n  border: 1px solid #000;\r\n  font-size: 18px;\r\n`\r\n","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { ButtonRound, ErrorText } from '../stylesheets/mainStyled'\r\nimport { ReactComponent as CheckIcon } from '../images/check.svg'\r\nimport TripHeader from '../components/TripsContainer/TripHeader'\r\nimport { addNewStop } from '../redux/trips/tripsActions'\r\nimport { getTrip, getTypeTrip } from '../redux/trips/tripsSelectors'\r\nimport MapGoogle from '../components/TripsContainer/MapGoogle'\r\nimport SearchForm from '../components/TripsContainer/SearchForm'\r\n\r\nconst useQuery = () => {\r\n  return new URLSearchParams(useLocation().search)\r\n}\r\n\r\nconst TripRouteMapPage = () => {\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const query = useQuery()\r\n  const id = query.get('tripId')\r\n  const trip = useSelector(getTrip)\r\n  const typeTrip = useSelector(getTypeTrip)\r\n  const [markerLocality, setMarkerLocality] = useState(null)\r\n  const [markerStop, setMarkerStop] = useState(null)\r\n  const [time, setTime] = useState('')\r\n  const [address, setAddress] = useState('')\r\n  const [parent, setParent] = useState('')\r\n  const [error, setError] = useState(null)\r\n\r\n  //   хедер вернуться назад\r\n  const onGoBack = () => {\r\n    history.push({\r\n      pathname: `/trip-route`,\r\n      search: `?tripId=${id}`,\r\n      state: {\r\n        from:\r\n          typeTrip === 'edit' ? `/trip-edit?tripId=${id}` : `/trip-periods?tripId=${id}`,\r\n      },\r\n    })\r\n  }\r\n\r\n  const chooseLocality = value => {\r\n    setMarkerLocality({ lat: value.latitude, lng: value.longitude })\r\n    setMarkerStop(null)\r\n    setParent(value)\r\n  }\r\n  const addMarker = val => setMarkerStop(val)\r\n  const onChangeTime = ({ target }) => setTime(target.value)\r\n  const onChangeStop = ({ target }) => setAddress(target.value)\r\n\r\n  const handleSubmit = async () => {\r\n    setError(null)\r\n    const newStop = { locality: { parent: { id: '', name: '' }, address: {} } }\r\n    if (time) {\r\n      newStop.departureTime = time\r\n    } else {\r\n      setError('Укажите время отправления')\r\n      return\r\n    }\r\n\r\n    if (parent) {\r\n      newStop.locality.parent.id = parent.value\r\n      newStop.locality.parent.name = {\r\n        [parent.text.split(':')[0]]: parent.text.split(':')[1],\r\n      }\r\n    } else {\r\n      setError('Выберите город отправления')\r\n      return\r\n    }\r\n    if (address) {\r\n      newStop.locality.address = {\r\n        RU: address,\r\n      }\r\n    } else {\r\n      setError('Опишите название остановки')\r\n      return\r\n    }\r\n    if (markerStop) {\r\n      newStop.locality.latitude = markerStop.lat\r\n      newStop.locality.longitude = markerStop.lng\r\n    } else {\r\n      setError('Выберите место отправления на карте')\r\n      return\r\n    }\r\n\r\n    dispatch(addNewStop(newStop))\r\n    history.push({\r\n      pathname: `/trip-route`,\r\n      search: `?tripId=${id}`,\r\n      state: {\r\n        from:\r\n          typeTrip === 'edit' ? `/trip-edit?tripId=${id}` : `/trip-periods?tripId=${id}`,\r\n      },\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <TripHeader onGoBack={onGoBack} name={trip.name} />\r\n      <Title>Укажите место и время посадки/высадки</Title>\r\n      <SearchForm\r\n        time={time}\r\n        address={address}\r\n        onChangeTime={onChangeTime}\r\n        chooseLocality={chooseLocality}\r\n        onChangeStop={onChangeStop}\r\n      />\r\n      {error && <ErrorText>{error}</ErrorText>}\r\n      <MapGoogle\r\n        markerLocality={markerLocality}\r\n        addMarker={addMarker}\r\n        markerStop={markerStop}\r\n      />\r\n      <ButtonRound type=\"submit\" onClick={handleSubmit}>\r\n        <CheckIcon />\r\n      </ButtonRound>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default TripRouteMapPage\r\nconst Title = styled.h2`\r\n  font-size: 24px;\r\n  text-align: center;\r\n  font-weight: 400;\r\n  padding-top: 10px;\r\n`\r\n"],"sourceRoot":""}
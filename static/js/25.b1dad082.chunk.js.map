{"version":3,"sources":["redux/reports/reportsSelectors.js","images/search_s.svg","components/FormikInputs/DatePicker.js","redux/reports/reportsActions.js","components/FormikInputs/RadioInput.js","pages/ReportsPage.js"],"names":["getReports","state","reports","getLoader","loader","getErrror","errror","_path","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgSearchS","_ref","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","id","d","ForwardRef","DatePickerField","label","setFieldValue","useFormikContext","useField","field","meta","htmlFor","name","autoComplete","dateFormat","selected","value","Date","onChange","val","touched","error","getReport","data","type","Types","GET_REPORTS","payload","loaderReport","REPORTS_LOADER_START","errorReport","err","REPORTS_ERROR","RadioInput","RadioInputDiv","styled","div","Container","ReportsPage","dispatch","useDispatch","history","useHistory","auth","useSelector","getAuth","useState","message","setMessage","Title","initialValues","from","to","validationSchema","Yup","required","onSubmit","a","fromReq","moment","format","toReq","push","FormBox","DatePicker","color","device","mobileL","p"],"mappings":"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","file":"static/js/25.b1dad082.chunk.js","sourcesContent":["export const getReports = state => state.reports.reports\r\n\r\nexport const getLoader = state => state.reports.loader\r\n\r\nexport const getErrror = state => state.reports.errror\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSearchS(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 30,\n    height: 40,\n    viewBox: \"0 -5 30 30\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20.8333 18.3333H19.5167L19.05 17.8833C20.6833 15.9833 21.6667 13.5167 21.6667 10.8333C21.6667 4.85 16.8167 0 10.8333 0C4.85 0 0 4.85 0 10.8333C0 16.8167 4.85 21.6667 10.8333 21.6667C13.5167 21.6667 15.9833 20.6833 17.8833 19.05L18.3333 19.5167V20.8333L26.6667 29.15L29.15 26.6667L20.8333 18.3333ZM10.8333 18.3333C6.68333 18.3333 3.33333 14.9833 3.33333 10.8333C3.33333 6.68333 6.68333 3.33333 10.8333 3.33333C14.9833 3.33333 18.3333 6.68333 18.3333 10.8333C18.3333 14.9833 14.9833 18.3333 10.8333 18.3333Z\",\n    fill: \"#7E7070\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearchS);\nexport default __webpack_public_path__ + \"static/media/search_s.cbe05c5c.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\r\nimport { useField, useFormikContext } from 'formik'\r\nimport DatePicker from 'react-datepicker'\r\nimport 'react-datepicker/dist/react-datepicker.css'\r\nimport { ErrorText, TextInputDiv } from '../../stylesheets/mainStyled'\r\n\r\nexport const DatePickerField = ({ label, ...props }) => {\r\n  const { setFieldValue } = useFormikContext()\r\n  const [field, meta] = useField(props)\r\n  return (\r\n    <TextInputDiv>\r\n      <label htmlFor={props.id || props.name}>{label}</label>\r\n\r\n      <DatePicker\r\n        {...field}\r\n        {...props}\r\n        autoComplete=\"off\"\r\n        dateFormat=\"yyyy-MM-dd\"\r\n        selected={(field.value && new Date(field.value)) || null}\r\n        onChange={val => {\r\n          setFieldValue(field.name, val)\r\n        }}\r\n      />\r\n      {meta.touched && meta.error ? <ErrorText>{meta.error}</ErrorText> : null}\r\n    </TextInputDiv>\r\n  )\r\n}\r\n","import { Types } from '../actionTypes'\r\n\r\nexport const getReport = data => ({ type: Types.GET_REPORTS, payload: data })\r\n\r\nexport const loaderReport = () => ({ type: Types.REPORTS_LOADER_START })\r\n\r\nexport const errorReport = err => ({ type: Types.REPORTS_ERROR, payload: err })\r\n","import React from 'react'\r\n// import { TextInputDiv } from '../../stylesheets/mainStyled'\r\nimport { useField } from 'formik'\r\nimport styled from 'styled-components'\r\n\r\nconst RadioInput = ({ label, ...props }) => {\r\n  const [field, meta] = useField(props)\r\n  return (\r\n    <RadioInputDiv error={meta.touched && meta.error}>\r\n      <div>\r\n        <input {...field} {...props} />\r\n      </div>\r\n      <label htmlFor={props.id || props.name}>{label}</label>\r\n    </RadioInputDiv>\r\n  )\r\n}\r\n\r\nexport default RadioInput\r\n\r\nconst RadioInputDiv = styled.div`\r\n  display: flex;\r\n  margin-bottom: 12px;\r\n  /* & label {\r\n    order: 0;\r\n  }\r\n  & div {\r\n    order: 1;\r\n  } */\r\n  & input {\r\n    width: 16px;\r\n    height: 16px;\r\n    margin-right: 6px;\r\n  }\r\n`\r\n","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Formik, Form } from 'formik'\r\nimport * as Yup from 'yup'\r\nimport styled from 'styled-components'\r\nimport { ButtonRound, ErrorText } from '../stylesheets/mainStyled'\r\nimport { device } from '../stylesheets/device'\r\nimport { ReactComponent as SearchIcon } from '../images/search_s.svg'\r\n\r\nimport { getAuth } from '../redux/global/globalSelectors'\r\nimport Loading from '../components/Loader'\r\nimport moment from 'moment'\r\nimport RadioInput from '../components/FormikInputs/RadioInput'\r\nimport { DatePickerField } from '../components/FormikInputs/DatePicker'\r\nimport { getReports } from '../services/apiMethods'\r\nimport { errorReport, getReport, loaderReport } from '../redux/reports/reportsActions'\r\nimport { useHistory } from 'react-router'\r\nimport { getErrror, getLoader } from '../redux/reports/reportsSelectors'\r\n\r\nconst ReportsPage = () => {\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const auth = useSelector(getAuth)\r\n  const loader = useSelector(getLoader)\r\n  const error = useSelector(getErrror)\r\n  const [message, setMessage] = useState('')\r\n  return (\r\n    <Container>\r\n      <Title>Укажите период отчета</Title>\r\n      <Formik\r\n        initialValues={{\r\n          from: '',\r\n          to: '',\r\n          type: 'false',\r\n        }}\r\n        validationSchema={Yup.object({\r\n          from: Yup.date().required('Выберите дату'),\r\n          to: Yup.date().required('Выберите дату'),\r\n        })}\r\n        onSubmit={async ({ from, to, type }) => {\r\n          const fromReq = moment(from).format('YYYY-MM-DD')\r\n          const toReq = moment(to).format('YYYY-MM-DD')\r\n          dispatch(loaderReport())\r\n          setMessage('')\r\n          try {\r\n            const { data } = await getReports(fromReq, toReq, type, auth)\r\n            dispatch(getReport(data))\r\n            if (data) {\r\n              history.push(`/reports/result?from=${fromReq}&to=${toReq}&isSale=${type}`)\r\n            } else {\r\n              setMessage('По Вашему запросу ничего не найдено')\r\n            }\r\n          } catch (error) {\r\n            dispatch(errorReport(error))\r\n          }\r\n        }}\r\n      >\r\n        <Form>\r\n          <FormBox>\r\n            <DatePickerField label=\"Дата С\" name=\"from\" />\r\n            <DatePickerField label=\"Дата ПО\" name=\"to\" />\r\n\r\n            <RadioInput\r\n              label=\"Выбрать по дате отправления\"\r\n              type=\"radio\"\r\n              name=\"type\"\r\n              value=\"false\"\r\n            />\r\n            <RadioInput\r\n              label=\"Выбрать по дате продажи\"\r\n              type=\"radio\"\r\n              name=\"type\"\r\n              value=\"true\"\r\n            />\r\n\r\n            {error && <ErrorText>{error.message}</ErrorText>}\r\n            {message && <ErrorText>{message}</ErrorText>}\r\n            <ButtonRound type=\"submit\">\r\n              {loader ? (\r\n                <Loading type=\"ThreeDots\" color=\"#00BFFF\" height={15} width={40} />\r\n              ) : (\r\n                <SearchIcon />\r\n              )}\r\n            </ButtonRound>\r\n          </FormBox>\r\n        </Form>\r\n      </Formik>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default ReportsPage\r\nconst Container = styled.div`\r\n  padding: 20px 10px 80px;\r\n\r\n  @media ${device.mobileL} {\r\n    width: 410px;\r\n    margin: 0 auto;\r\n  }\r\n`\r\n\r\nconst Title = styled.p`\r\n  font-size: 24px;\r\n  text-align: center;\r\n`\r\nconst FormBox = styled.div`\r\n  /* padding: 20px; */\r\n`\r\n"],"sourceRoot":""}
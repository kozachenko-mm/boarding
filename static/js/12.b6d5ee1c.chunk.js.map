{"version":3,"sources":["images/arrowBack.svg","components/Modal.js","redux/schedule/scheduleSelectors.js","redux/schedule/scheduleActions.js","services/useCustomQuery.js","redux/schedule/scheduleOperations.js","images/phone.svg","images/arrowDropdown.svg","images/filter.svg","components/ScheduleContainer/Order.js","components/ScheduleContainer/PassengersFilter.js","pages/PassengersPage.js"],"names":["_path","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgArrowBack","_ref","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","id","d","ForwardRef","Modal","open","onClose","children","editRef","useRef","in","timeout","classNames","unmountOnExit","nodeRef","onClick","event","current","getSchedule","state","schedule","getCrew","crew","getbuses","buses","getPassengers","passengers","getFormatSchedule","createSelector","trip","amountDays","moment","departure","endOf","format","arr","day","slice","date","some","el","push","trips","filter","sort","a","b","Date","split","join","getTime","isTrips","without","scheduleMonth","data","type","Types","GET_SCHEDULE","payload","crewAll","GET_CREW","currentTrip","bus","CURRENT_TRIP","busesAll","GET_BUSES","removeBusId","DELETE_BUS","includeTrip","INCLUDE_TRIP","excludeTrip","EXCLUDE_TRIP","passangersAll","GET_PASSENGERS","scheduleLoader","SCHEDULE_LOADER_START","scheduleError","SCHEDULE_ERROR","useQuery","URLSearchParams","useLocation","search","axios","defaults","baseURL","getScheduleMonth","from","to","dispatch","getState","auth","globalSelectors","headers","Authorization","getCrewAll","getBusesAll","tripId","getPassengersAll","SvgPhone","SvgArrowDropdown","SvgFilter","Order","order","query","localities","useSelector","get","find","vehicles","getLocality","parent","name","Box","Text","fromId","toId","departureTime","address","getAddress","Bus","BusNumber","tripVehicleId","number","List","customers","map","passenger","ListItem","PhoneLink","href","phone","bold","surname","Checkbox","styled","div","prop","theme","border","device","tablet","p","textColorDark","ul","li","input","PassengersFilter","selected","onFilter","onSelected","onClearFilter","useState","localitiesFrom","setLocalitiesFrom","stopsFrom","setStopsFrom","localitiesTo","setLocalitiesTo","useEffect","Set","orders","handleChange","Container","ClearButton","Filters","Title","value","checked","onChange","localityFrom","stopFrom","localityTo","button","h4","SELECTED","PassengersPage","useDispatch","isFilters","setIsFilters","filtredPassengers","setFiltredPassengers","setSelected","passengersInfo","useCallback","toggleModal","Header","ListOrders","prev","result","includes","header","mainColor"],"mappings":"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","file":"static/js/12.b6d5ee1c.chunk.js","sourcesContent":["var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrowBack(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 30,\n    height: 20,\n    viewBox: \"0 0 30 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M30 8.33333H6.38333L12.35 2.35L10 0L0 10L10 20L12.35 17.65L6.38333 11.6667H30V8.33333Z\",\n    fill: \"#7E7070\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowBack);\nexport default __webpack_public_path__ + \"static/media/arrowBack.beea4bf3.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useRef } from 'react'\r\nimport { CSSTransition } from 'react-transition-group'\r\nimport { AnimeBox } from '../stylesheets/mainStyled'\r\n\r\nconst Modal = ({ open, onClose, children }) => {\r\n  const editRef = useRef(null)\r\n  const handleBackdropClick = event => {\r\n    const { current } = editRef\r\n    if (current && event.target !== current) return\r\n    onClose()\r\n  }\r\n  return (\r\n    <CSSTransition\r\n      in={open}\r\n      timeout={300}\r\n      classNames=\"scale\"\r\n      unmountOnExit\r\n      nodeRef={editRef}\r\n    >\r\n      <AnimeBox ref={editRef} onClick={handleBackdropClick}>\r\n        {children}\r\n      </AnimeBox>\r\n    </CSSTransition>\r\n  )\r\n}\r\n\r\nexport default Modal\r\n","import moment from 'moment'\r\nimport { createSelector } from 'reselect'\r\n\r\nexport const getSchedule = state => state.schedule.schedule\r\nexport const getCrew = state => state.schedule.crew\r\nexport const getCurrentTrip = state => state.schedule.currentTrip\r\nexport const getbuses = state => state.schedule.buses\r\nexport const getPassengers = state => state.schedule.passengers\r\n\r\nexport const getFormatSchedule = createSelector(getSchedule, trip => {\r\n  const amountDays = moment(trip[0].departure).endOf('month').format('DD')\r\n\r\n  const arr = []\r\n  for (let i = 1; i <= amountDays; i++) {\r\n    const day = `0${i}`.slice(-2)\r\n    const date = `${moment(trip[0].departure).format('YYYY-MM')}-${day}`\r\n    if (trip.some(el => moment(el.departure).format('YYYY-MM-DD') === date)) {\r\n      arr.push({\r\n        date: date,\r\n        trips: trip\r\n          .filter(el => moment(el.departure).format('YYYY-MM-DD') === date)\r\n          .sort((a, b) => {\r\n            const A = new Date(a.departure.split(' ').join('T')).getTime()\r\n            const B = new Date(b.departure.split(' ').join('T')).getTime()\r\n            return A - B\r\n          }),\r\n        isTrips: true,\r\n      })\r\n    } else {\r\n      arr.push({ date: date, trips: [], isTrips: false, without: day })\r\n    }\r\n  }\r\n\r\n  return arr\r\n})\r\n","import { Types } from '../actionTypes'\r\n\r\nexport const scheduleMonth = data => ({ type: Types.GET_SCHEDULE, payload: data })\r\n\r\nexport const crewAll = data => ({ type: Types.GET_CREW, payload: data })\r\n\r\nexport const currentTrip = (trip, bus) => ({\r\n  type: Types.CURRENT_TRIP,\r\n  payload: { trip, bus },\r\n})\r\n\r\nexport const busesAll = data => ({ type: Types.GET_BUSES, payload: data })\r\n\r\nexport const appointBus = id => ({ type: Types.APPOINT_BUS, payload: id })\r\n\r\nexport const removeBusId = id => ({ type: Types.DELETE_BUS, payload: id })\r\n\r\nexport const includeTrip = data => ({ type: Types.INCLUDE_TRIP, payload: data })\r\n\r\nexport const excludeTrip = data => ({ type: Types.EXCLUDE_TRIP, payload: data })\r\n\r\nexport const passangersAll = data => ({ type: Types.GET_PASSENGERS, payload: data })\r\n\r\nexport const scheduleLoader = () => ({ type: Types.SCHEDULE_LOADER_START })\r\n\r\nexport const scheduleError = data => ({ type: Types.SCHEDULE_ERROR, payload: data })\r\n","import { useLocation } from 'react-router'\r\n\r\nexport const useQuery = () => {\r\n  return new URLSearchParams(useLocation().search)\r\n}\r\n","import axios from 'axios'\r\nimport * as globalSelectors from '../global/globalSelectors'\r\nimport {\r\n  busesAll,\r\n  crewAll,\r\n  scheduleError,\r\n  scheduleLoader,\r\n  scheduleMonth,\r\n  passangersAll,\r\n} from './scheduleActions'\r\n\r\naxios.defaults.baseURL = 'https://car.busis.eu'\r\n\r\nexport const getScheduleMonth = (from, to) => async (dispatch, getState) => {\r\n  const auth = globalSelectors.getAuth(getState())\r\n  if (!auth) return\r\n  dispatch(scheduleLoader())\r\n  try {\r\n    const { data } = await axios(`/api/schedule?from=${from}&to=${to}`, {\r\n      headers: { Authorization: auth },\r\n    })\r\n    dispatch(scheduleMonth(data))\r\n  } catch (error) {\r\n    dispatch(scheduleError(error))\r\n  }\r\n}\r\n\r\nexport const getCrewAll = () => async (dispatch, getState) => {\r\n  const auth = globalSelectors.getAuth(getState())\r\n  if (!auth) return\r\n  dispatch(scheduleLoader())\r\n  try {\r\n    const { data } = await axios(`/api/schedule/member/all`, {\r\n      headers: { Authorization: auth },\r\n    })\r\n    dispatch(crewAll(data))\r\n  } catch (error) {\r\n    dispatch(scheduleError(error))\r\n  }\r\n}\r\n\r\nexport const getBusesAll = (departure, tripId) => async (dispatch, getState) => {\r\n  const auth = globalSelectors.getAuth(getState())\r\n  if (!auth) return\r\n  dispatch(scheduleLoader())\r\n  try {\r\n    const { data } = await axios(\r\n      `api/schedule/vehicle/available?departure=${departure}&tripId=${tripId} `,\r\n      {\r\n        headers: { Authorization: auth },\r\n      }\r\n    )\r\n    dispatch(busesAll(data))\r\n  } catch (error) {\r\n    dispatch(scheduleError(error))\r\n  }\r\n}\r\n\r\nexport const getPassengersAll = (departure, tripId) => async (dispatch, getState) => {\r\n  const auth = globalSelectors.getAuth(getState())\r\n  if (!auth) return\r\n  dispatch(scheduleLoader())\r\n  try {\r\n    const { data } = await axios(\r\n      `api/schedule/passenger/all?departure=${departure}&tripId=${tripId} `,\r\n      {\r\n        headers: { Authorization: auth },\r\n      }\r\n    )\r\n    dispatch(passangersAll(data))\r\n  } catch (error) {\r\n    dispatch(scheduleError(error))\r\n  }\r\n}\r\n\r\n// api/schedule/passenger/all?departure=2021-09-16&tripId=36314\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPhone(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 30,\n    height: 31,\n    viewBox: \"0 0 30 31\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28.35 21.1248C26.3 21.1248 24.3167 20.7915 22.4667 20.1915C21.8833 19.9915 21.2333 20.1415 20.7833 20.5915L18.1667 23.8748C13.45 21.6248 9.03333 17.3748 6.68333 12.4915L9.93333 9.72479C10.3833 9.25812 10.5167 8.60812 10.3333 8.02479C9.71667 6.17479 9.4 4.19146 9.4 2.14146C9.4 1.24146 8.65 0.491455 7.75 0.491455H1.98333C1.08333 0.491455 0 0.891455 0 2.14146C0 17.6248 12.8833 30.4915 28.35 30.4915C29.5333 30.4915 30 29.4415 30 28.5248V22.7748C30 21.8748 29.25 21.1248 28.35 21.1248Z\",\n    fill: \"#206315\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPhone);\nexport default __webpack_public_path__ + \"static/media/phone.87d1520d.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrowDropdown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 10,\n    height: 5,\n    viewBox: \"0 0 10 5\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0L5 5L10 0H0Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowDropdown);\nexport default __webpack_public_path__ + \"static/media/arrowDropdown.eb245fd7.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgFilter(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 30,\n    height: 20,\n    viewBox: \"0 0 30 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.6667 20H18.3333V16.6667H11.6667V20ZM0 0V3.33333H30V0H0ZM5 11.6667H25V8.33333H5V11.6667Z\",\n    fill: \"#7E7070\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFilter);\nexport default __webpack_public_path__ + \"static/media/filter.f9a2bfc7.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport styled from 'styled-components'\r\nimport { device } from '../../stylesheets/device'\r\nimport { ReactComponent as ArrowDownIcon } from '../../images/arrowDropdown.svg'\r\nimport { ReactComponent as PhoneIcon } from '../../images/phone.svg'\r\nimport { getPassengers, getSchedule } from '../../redux/schedule/scheduleSelectors'\r\nimport moment from 'moment'\r\nimport { useQuery } from '../../services/useCustomQuery'\r\n\r\nconst Order = ({ order }) => {\r\n  const query = useQuery()\r\n\r\n  const localities = useSelector(getPassengers).localities\r\n  const tripId = query.get('tripId')\r\n  const trip = useSelector(getSchedule).find(\r\n    trip =>\r\n      trip.id === tripId &&\r\n      trip.departure === moment(query.get('departure')).format('YYYY-MM-DD hh:mm')\r\n  )\r\n  const vehicles = trip.hasOwnProperty('vehicles') ? trip.vehicles : []\r\n\r\n  const getLocality = id => {\r\n    const parent = localities[id].parent.id\r\n    return localities[parent].name['RU']\r\n  }\r\n  const getAddress = id => {\r\n    const address = localities[id].name\r\n    return address['RU'] || address['UA'] || address['EN'] || address['PL']\r\n  }\r\n  const getVehicle = () => {\r\n    const vehicleNumber = vehicles.find(\r\n      el => el.tripVehicleId === order.tripVehicleId\r\n    ).number\r\n    return vehicleNumber\r\n  }\r\n  return (\r\n    <Box>\r\n      <div>\r\n        <Text>\r\n          Заказ {order.id} {getLocality(order.fromId)} - {getLocality(order.toId)}\r\n        </Text>\r\n        <Text>\r\n          {order.departureTime} {getAddress(order.fromId)}\r\n        </Text>\r\n        <Bus>\r\n          <BusNumber>{getVehicle()}</BusNumber> <ArrowDownIcon />\r\n        </Bus>\r\n      </div>\r\n\r\n      <List>\r\n        {order.customers.map(passenger => (\r\n          <ListItem key={passenger.id}>\r\n            <PhoneLink href={`tel: +${passenger.phone}`}>\r\n              <PhoneIcon />\r\n              <div>\r\n                <Text bold>\r\n                  {passenger.surname} {passenger.name}\r\n                </Text>\r\n                <Text>{passenger.phone}</Text>\r\n              </div>\r\n            </PhoneLink>\r\n            <Checkbox type=\"checkbox\" />\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n    </Box>\r\n  )\r\n}\r\nexport default Order\r\n\r\nconst Box = styled.div`\r\n  border-bottom: ${prop => prop.theme.border};\r\n  margin-bottom: 24px;\r\n  padding: 20px;\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n  @media ${device.tablet} {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    & > div {\r\n      margin-right: 20px;\r\n    }\r\n  }\r\n`\r\nconst Text = styled.p`\r\n  font-size: 18px;\r\n  margin-bottom: 6px;\r\n  font-weight: ${prop => (prop.bold ? 700 : 400)};\r\n  color: ${prop => prop.theme.textColorDark};\r\n`\r\nconst Bus = styled.div`\r\n  margin-bottom: 6px;\r\n  padding: 6px 12px;\r\n  width: 140px;\r\n  border: ${prop => prop.theme.border};\r\n  border-radius: 4px;\r\n  background: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`\r\nconst BusNumber = styled.p`\r\n  font-size: 18px;\r\n  margin-right: 12px;\r\n`\r\nconst List = styled.ul`\r\n  padding: 0;\r\n  margin: 0;\r\n  max-width: 360px;\r\n  @media ${device.tablet} {\r\n    flex: 1;\r\n  }\r\n`\r\nconst ListItem = styled.li`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 12px;\r\n`\r\nconst PhoneLink = styled.a`\r\n  display: flex;\r\n  align-items: center;\r\n  & div {\r\n    padding-left: 12px;\r\n  }\r\n  & p:last-child {\r\n    margin: 0;\r\n  }\r\n`\r\n\r\nconst Checkbox = styled.input`\r\n  width: 18px;\r\n  height: 18px;\r\n  border-width: 2px;\r\n`\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport styled from 'styled-components'\r\nimport { getPassengers } from '../../redux/schedule/scheduleSelectors'\r\nimport { Button } from '../../stylesheets/mainStyled'\r\n\r\nconst PassengersFilter = ({\r\n  vehicles,\r\n  selected,\r\n  onFilter,\r\n  onSelected,\r\n  onClearFilter,\r\n}) => {\r\n  const passengers = useSelector(getPassengers)\r\n  const [localitiesFrom, setLocalitiesFrom] = useState([])\r\n  const [stopsFrom, setStopsFrom] = useState([])\r\n  const [localitiesTo, setLocalitiesTo] = useState([])\r\n\r\n  useEffect(() => {\r\n    setLocalitiesFrom([\r\n      ...new Set(passengers.orders.map(el => passengers.localities[el.fromId].parent.id)),\r\n    ])\r\n    setLocalitiesTo([\r\n      ...new Set(passengers.orders.map(el => passengers.localities[el.toId].parent.id)),\r\n    ])\r\n    setStopsFrom([...new Set(passengers.orders.map(el => el.fromId))])\r\n  }, [])\r\n\r\n  const handleChange = ({ target }) => onSelected(target)\r\n  const getFilter = () => onFilter(selected)\r\n  return (\r\n    <Container>\r\n      <ClearButton type=\"button\" onClick={onClearFilter}>\r\n        Сбросить фильтр\r\n      </ClearButton>\r\n      <Filters>\r\n        <div>\r\n          <Title>Автобус</Title>\r\n          <List>\r\n            {vehicles.map(bus => (\r\n              <ListItem key={bus.tripVehicleId}>\r\n                <label>{bus.number}</label>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"bus\"\r\n                  value={bus.tripVehicleId}\r\n                  checked={selected.bus.some(el => el === bus.tripVehicleId)}\r\n                  onChange={handleChange}\r\n                />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        </div>\r\n        <div>\r\n          <Title>Город отправления</Title>\r\n          <List>\r\n            {localitiesFrom.map(id => (\r\n              <ListItem key={id}>\r\n                <label>{passengers.localities[id].name['RU']}</label>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"localityFrom\"\r\n                  value={id}\r\n                  checked={selected.localityFrom.some(el => el === id)}\r\n                  onChange={handleChange}\r\n                />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        </div>\r\n        <div>\r\n          <Title>Остановка отправления</Title>\r\n          <List>\r\n            {stopsFrom.map(id => (\r\n              <ListItem key={id}>\r\n                <label>{passengers.localities[id].name['RU']}</label>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"stopFrom\"\r\n                  value={id}\r\n                  checked={selected.stopFrom.some(el => el === id)}\r\n                  onChange={handleChange}\r\n                />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        </div>\r\n        <div>\r\n          <Title>Город прибытия</Title>\r\n          <List>\r\n            {localitiesTo.map(id => (\r\n              <ListItem key={id}>\r\n                <label>{passengers.localities[id].name['RU']} </label>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"localityTo\"\r\n                  value={id}\r\n                  checked={selected.localityTo.some(el => el === id)}\r\n                  onChange={handleChange}\r\n                />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        </div>\r\n      </Filters>\r\n      <Button type=\"button\" onClick={getFilter}>\r\n        Отфильтровать\r\n      </Button>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default PassengersFilter\r\n\r\nconst Container = styled.div`\r\n  background-color: #fff;\r\n  padding: 20px;\r\n  border-radius: 6px;\r\n  min-width: 300px;\r\n`\r\nconst ClearButton = styled.button`\r\n  display: block;\r\n  margin: 0 0 10px auto;\r\n  background: none;\r\n  border: none;\r\n  text-decoration: underline;\r\n`\r\nconst Filters = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\nconst Title = styled.h4`\r\n  margin-bottom: 10px;\r\n`\r\nconst List = styled.ul`\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst ListItem = styled.li`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n  & input {\r\n    width: 16px;\r\n    height: 16px;\r\n  }\r\n`\r\n","import React, { useEffect, useCallback, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport moment from 'moment'\r\nimport styled from 'styled-components'\r\nimport { ReactComponent as ArrowBackIcon } from '../images/arrowBack.svg'\r\nimport { ReactComponent as FilterIcon } from '../images/filter.svg'\r\nimport { getPassengersAll } from '../redux/schedule/scheduleOperations'\r\nimport { getPassengers, getSchedule } from '../redux/schedule/scheduleSelectors'\r\nimport { useQuery } from '../services/useCustomQuery'\r\nimport Order from '../components/ScheduleContainer/Order'\r\nimport Modal from '../components/Modal'\r\nimport PassengersFilter from '../components/ScheduleContainer/PassengersFilter'\r\n\r\nconst SELECTED = {\r\n  bus: [],\r\n  localityFrom: [],\r\n  stopFrom: [],\r\n  localityTo: [],\r\n}\r\nconst PassengersPage = () => {\r\n  const dispatch = useDispatch()\r\n  const query = useQuery()\r\n  const departure = moment(query.get('departure')).format('YYYY-MM-DD')\r\n  const tripId = query.get('tripId')\r\n\r\n  const passengers = useSelector(getPassengers)\r\n  const trip = useSelector(getSchedule).find(\r\n    trip =>\r\n      trip.id === tripId &&\r\n      trip.departure === moment(query.get('departure')).format('YYYY-MM-DD HH:mm')\r\n  )\r\n\r\n  const [isFilters, setIsFilters] = useState(false)\r\n  const [filtredPassengers, setFiltredPassengers] = useState([])\r\n  const [selected, setSelected] = useState(SELECTED)\r\n\r\n  const vehicles = trip.hasOwnProperty('vehicles') ? trip.vehicles : []\r\n\r\n  const passengersInfo = useCallback(\r\n    (departure, tripId) => dispatch(getPassengersAll(departure, tripId)),\r\n    [dispatch]\r\n  )\r\n  useEffect(() => {\r\n    passengersInfo(departure, tripId)\r\n  }, [departure, passengersInfo, tripId])\r\n\r\n  useEffect(() => {\r\n    if (passengers) setFiltredPassengers(passengers.orders)\r\n  }, [passengers])\r\n\r\n  const toggleModal = () => {\r\n    setIsFilters(!isFilters)\r\n  }\r\n\r\n  const onSelected = target => {\r\n    const name = target.name\r\n    const value = target.value\r\n    if (selected[name].some(el => el === value))\r\n      setSelected(prev => ({ ...prev, [name]: prev[name].filter(el => el !== value) }))\r\n    if (!selected[name].some(el => el === value))\r\n      setSelected(prev => ({ ...prev, [name]: [...prev[name], value] }))\r\n  }\r\n\r\n  const onFilter = () => {\r\n    if (\r\n      selected.bus.length === 0 &&\r\n      selected.localityFrom.length === 0 &&\r\n      selected.stopFrom.length === 0 &&\r\n      selected.localityTo.length === 0\r\n    ) {\r\n      setFiltredPassengers(passengers.orders)\r\n      toggleModal()\r\n      return\r\n    }\r\n\r\n    let result = []\r\n    selected.bus.length > 0\r\n      ? (result = [\r\n          ...passengers.orders.filter(order =>\r\n            selected.bus.includes(order.tripVehicleId)\r\n          ),\r\n        ])\r\n      : (result = [...passengers.orders])\r\n\r\n    selected.localityFrom.length > 0\r\n      ? (result = [\r\n          ...result.filter(order =>\r\n            selected.localityFrom.includes(passengers.localities[order.fromId].parent.id)\r\n          ),\r\n        ])\r\n      : (result = [...result])\r\n\r\n    selected.stopFrom.length > 0\r\n      ? (result = [...result.filter(order => selected.stopFrom.includes(order.fromId))])\r\n      : (result = [...result])\r\n\r\n    selected.localityTo.length > 0\r\n      ? (result = [\r\n          ...result.filter(order =>\r\n            selected.localityTo.includes(passengers.localities[order.toId].parent.id)\r\n          ),\r\n        ])\r\n      : (result = [...result])\r\n\r\n    setFiltredPassengers(result)\r\n    toggleModal()\r\n  }\r\n\r\n  const onClearFilter = () => {\r\n    setFiltredPassengers(passengers.orders)\r\n    toggleModal()\r\n    setSelected(SELECTED)\r\n  }\r\n  return (\r\n    <Container>\r\n      <Header>\r\n        <Link to=\"/schedule\">\r\n          <ArrowBackIcon />\r\n        </Link>\r\n        <Title>\r\n          {moment(query.get('departure')).format('HH:mm')} {trip.name}\r\n        </Title>\r\n        <FilterIcon onClick={toggleModal} />\r\n      </Header>\r\n      <ListOrders>\r\n        {filtredPassengers.length > 0 &&\r\n          filtredPassengers.map(order => <Order key={order.id} order={order} />)}\r\n      </ListOrders>\r\n      <Modal open={isFilters} onClose={toggleModal}>\r\n        <PassengersFilter\r\n          vehicles={vehicles}\r\n          selected={selected}\r\n          onSelected={onSelected}\r\n          onFilter={onFilter}\r\n          onClearFilter={onClearFilter}\r\n        />\r\n      </Modal>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default PassengersPage\r\n\r\nconst Container = styled.div``\r\nconst Header = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  background-color: ${prop => prop.theme.mainColor};\r\n  padding: 12.4px 24px;\r\n`\r\nconst ListOrders = styled.div`\r\n  padding: 20px;\r\n`\r\nconst Title = styled.p`\r\n  font-size: 24px;\r\n`\r\n"],"sourceRoot":""}
{"version":3,"sources":["images/check.svg","components/Modal.js","redux/trips/tripsSelectors.js","redux/trips/tripsOperations.js","components/ModalWindows/ConfirmRemove.js","images/moreVert.svg","components/TripsContainer/TripItem.js","pages/TripsPage.js"],"names":["_path","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgCheck","_ref","svgRef","title","titleId","props","width","height","viewBox","xmlns","fill","ref","id","d","stroke","ForwardRef","Modal","open","onClose","children","editRef","useRef","in","timeout","classNames","unmountOnExit","nodeRef","onClick","event","current","getTrips","state","trips","getTrip","trip","getPeriods","period","getRoute","route","getTypeTrip","typeTrip","getLoader","loader","getError","error","getPeriodTimes","createSelector","periods","find","el","getPeriodDays","getCurrentStop","currentStop","stop","locality","parent","getTariffsArray","tariff","tariffs","reduce","arr","fromArray","acc","item","ind","some","fromId","toId","findIndex","push","value","axios","defaults","baseURL","getAllTrips","dispatch","getState","a","auth","globalSelectors","tripsLoader","headers","Authorization","data","allTrips","tripsError","getTripId","tripId","getTripPeriod","tripPeriod","getTripRoute","tripRoute","getTripTarrif","tripTariff","getTripRouteAndTariff","ConfirmRemove","name","onConfirm","onCancel","Box","Text","bold","Flex","Button","color","styled","div","theme","border","span","textColorLight","button","prop","SvgMoreVert","TripItem","useDispatch","useSelector","getAuth","useState","anchorEl","setAnchorEl","isRemove","setIsRemove","Boolean","toggleOpenModalRemove","handleConfirmRemove","removeTrip","status","removeTripId","toggleActiveTrip","disactiveTrip","statusTrip","activeTrip","onBackTrip","backTrip","creteBackTrip","Info","Title","List","tripNextDates","map","idx","Span","IconBox","currentTarget","Popover","anchorOrigin","vertical","horizontal","transformOrigin","StyledLink","to","typeEdidTrip","PopoverButton","p","textColorDark","ul","Link","Container","TripsPage","getTripsInfo","useCallback","useEffect","type","message","mainColor"],"mappings":"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","file":"static/js/19.243bd245.chunk.js","sourcesContent":["var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCheck(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 31,\n    height: 24,\n    viewBox: \"0 0 31 24\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"#7E7070\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.5254 17.4302L4.4849 11.3897L4.13134 11.0362L3.77779 11.3897L1.64645 13.5211L1.29289 13.8746L1.64645 14.2282L10.1718 22.7536L10.5254 23.1071L10.8789 22.7536L29.1476 4.4849L29.5011 4.13134L29.1476 3.77779L27.0162 1.64645L26.6627 1.29289L26.3091 1.64645L10.5254 17.4302Z\",\n    stroke: \"#7E7070\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheck);\nexport default __webpack_public_path__ + \"static/media/check.fed458a5.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useRef } from 'react'\r\nimport { CSSTransition } from 'react-transition-group'\r\nimport { AnimeBox } from '../stylesheets/mainStyled'\r\n\r\nconst Modal = ({ open, onClose, children }) => {\r\n  const editRef = useRef(null)\r\n  const handleBackdropClick = event => {\r\n    const { current } = editRef\r\n    if (current && event.target !== current) return\r\n    onClose()\r\n  }\r\n  return (\r\n    <CSSTransition\r\n      in={open}\r\n      timeout={300}\r\n      classNames=\"scale\"\r\n      unmountOnExit\r\n      nodeRef={editRef}\r\n    >\r\n      <AnimeBox ref={editRef} onClick={handleBackdropClick}>\r\n        {children}\r\n      </AnimeBox>\r\n    </CSSTransition>\r\n  )\r\n}\r\n\r\nexport default Modal\r\n","import { createSelector } from 'reselect'\r\n\r\nexport const getTrips = state => state.trips.trips\r\nexport const getTrip = state => state.trips.trip\r\nexport const getPeriods = state => state.trips.period\r\nexport const getRoute = state => state.trips.route\r\nexport const getTariff = state => state.trips.tariff\r\nexport const currentStop = state => state.trips.currentStop\r\nexport const getTypeTrip = state => state.trips.typeTrip\r\nexport const getLoader = state => state.trips.loader\r\nexport const getError = state => state.trips.error\r\n\r\nexport const getPeriodTimes = createSelector(getPeriods, periods => {\r\n  if (periods) {\r\n    return periods.find(el => el.hasOwnProperty('times'))\r\n  }\r\n})\r\n\r\nexport const getPeriodDays = createSelector(getPeriods, periods => {\r\n  if (periods) {\r\n    return periods.find(el => el.hasOwnProperty('days'))\r\n  }\r\n})\r\n\r\nexport const getCurrentStop = createSelector(getRoute, currentStop, (route, stop) => {\r\n  return stop ? stop : route[0]?.locality.parent.id\r\n})\r\n\r\nexport const getTariffsArray = createSelector(getRoute, getTariff, (route, tariffs) => {\r\n  if (route.length > 0) {\r\n    return route.reduce(\r\n      (arr, el) => {\r\n        const fromArray = route.reduce((acc, item, ind) => {\r\n          if (el.locality.parent.id !== item.locality.parent.id) {\r\n            if (\r\n              !tariffs.some(\r\n                i =>\r\n                  i.fromId === el.locality.parent.id &&\r\n                  i.toId === route[ind].locality.parent.id\r\n              )\r\n            )\r\n              if (\r\n                route.findIndex(i => i.locality.parent.id === el.locality.parent.id) <=\r\n                ind\r\n              )\r\n                acc.push({\r\n                  fromId: el.locality.parent.id,\r\n                  toId: route[ind].locality.parent.id,\r\n                  value: '',\r\n                })\r\n          }\r\n          return acc\r\n        }, [])\r\n        arr.push(...fromArray)\r\n        return arr\r\n      },\r\n      [...tariffs]\r\n    )\r\n  }\r\n  return []\r\n})\r\n","import axios from 'axios'\r\nimport * as globalSelectors from '../global/globalSelectors'\r\nimport {\r\n  allTrips,\r\n  tripId,\r\n  tripPeriod,\r\n  tripRoute,\r\n  tripsError,\r\n  tripsLoader,\r\n  tripTariff,\r\n} from './tripsActions'\r\n\r\naxios.defaults.baseURL = 'https://car.busis.eu'\r\n\r\nexport const getAllTrips = () => async (dispatch, getState) => {\r\n  const auth = globalSelectors.getAuth(getState())\r\n  if (!auth) return\r\n  dispatch(tripsLoader())\r\n  try {\r\n    const { data } = await axios('/api/trip/all', {\r\n      headers: { Authorization: auth },\r\n    })\r\n    dispatch(allTrips(data))\r\n  } catch (error) {\r\n    dispatch(tripsError(error))\r\n  }\r\n}\r\n\r\nexport const getTripId = id => async (dispatch, getState) => {\r\n  const auth = globalSelectors.getAuth(getState())\r\n  if (!auth) return\r\n  dispatch(tripsLoader())\r\n  try {\r\n    const { data } = await axios(`/api/trip?tripId=${id}`, {\r\n      headers: { Authorization: auth },\r\n    })\r\n    dispatch(tripId(data))\r\n  } catch (error) {\r\n    dispatch(tripsError(error))\r\n  }\r\n}\r\n\r\nexport const getTripPeriod = id => async (dispatch, getState) => {\r\n  const auth = globalSelectors.getAuth(getState())\r\n  if (!auth) return\r\n  dispatch(tripsLoader())\r\n  try {\r\n    const { data } = await axios(`/api/trip/period?tripId=${id}`, {\r\n      headers: { Authorization: auth },\r\n    })\r\n    dispatch(tripPeriod(data))\r\n  } catch (error) {\r\n    dispatch(tripsError(error))\r\n  }\r\n}\r\n\r\nexport const getTripRoute = id => async (dispatch, getState) => {\r\n  const auth = globalSelectors.getAuth(getState())\r\n  if (!auth) return\r\n  dispatch(tripsLoader())\r\n  try {\r\n    const { data } = await axios(`/api/trip/route?tripId=${id}`, {\r\n      headers: { Authorization: auth },\r\n    })\r\n    dispatch(tripRoute(data))\r\n  } catch (error) {\r\n    dispatch(tripsError(error))\r\n  }\r\n}\r\n\r\nexport const getTripTarrif = id => async (dispatch, getState) => {\r\n  const auth = globalSelectors.getAuth(getState())\r\n  if (!auth) return\r\n  dispatch(tripsLoader())\r\n  try {\r\n    const { data } = await axios(`/api/trip/tariff?tripId=${id}`, {\r\n      headers: { Authorization: auth },\r\n    })\r\n    dispatch(tripTariff(data))\r\n  } catch (error) {\r\n    dispatch(tripsError(error))\r\n  }\r\n}\r\n\r\nexport const getTripRouteAndTariff = id => async (dispatch, getState) => {\r\n  const auth = globalSelectors.getAuth(getState())\r\n  if (!auth) return\r\n  dispatch(tripsLoader())\r\n  try {\r\n    const route = await axios(`/api/trip/route?tripId=${id}`, {\r\n      headers: { Authorization: auth },\r\n    })\r\n    const tariff = await axios(`/api/trip/tariff?tripId=${id}`, {\r\n      headers: { Authorization: auth },\r\n    })\r\n    dispatch(tripRoute(route.data))\r\n    dispatch(tripTariff(tariff.data))\r\n  } catch (error) {\r\n    dispatch(tripsError(error))\r\n  }\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { ReactComponent as CloseIcon } from '../../images/close.svg'\r\nimport { ReactComponent as CheckIcon } from '../..//images/check.svg'\r\n\r\nconst ConfirmRemove = ({ name, onConfirm, onCancel }) => {\r\n  return (\r\n    <Box>\r\n      <Text>\r\n        Вы действительно хотите удалить <Text bold> {name}</Text>?\r\n      </Text>\r\n\r\n      <Flex>\r\n        <Button color=\"successColor\" onClick={onConfirm}>\r\n          <CheckIcon fill=\"#ffffff\" />\r\n        </Button>\r\n        <Button color=\"warningColor\" onClick={onCancel}>\r\n          <CloseIcon fill=\"#ffffff\" />\r\n        </Button>\r\n      </Flex>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default ConfirmRemove\r\n\r\nconst Box = styled.div`\r\n  width: 320px;\r\n  padding: 20px;\r\n  border: ${props => props.theme.border};\r\n  border-radius: 4px;\r\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.55);\r\n  text-align: center;\r\n  background-color: #fff;\r\n`\r\nconst Text = styled.span`\r\n  display: inline-block;\r\n  font-size: 24px;\r\n  color: ${props => props.theme.textColorLight};\r\n  margin-bottom: ${props => (props.bold ? 0 : '24px')};\r\n  font-weight: ${props => (props.bold ? 700 : 400)};\r\n`\r\nconst Flex = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n`\r\nexport const Button = styled.button`\r\n  display: block;\r\n  width: 50px;\r\n  height: 50px;\r\n  color: ${prop => prop.theme[prop.color]};\r\n  cursor: pointer;\r\n  font-size: 18px;\r\n  font-weight: 400;\r\n  transition: font-weight 200ms linear;\r\n  border-radius: 50%;\r\n  border: none;\r\n  background: ${prop => prop.theme[prop.color]};\r\n  &:hover {\r\n    font-weight: 700;\r\n    transition: font-weight 200ms linear;\r\n  }\r\n`\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMoreVert(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 4,\n    height: 16,\n    viewBox: \"0 0 4 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2 4C3.1 4 4 3.1 4 2C4 0.9 3.1 0 2 0C0.9 0 0 0.9 0 2C0 3.1 0.9 4 2 4ZM2 6C0.9 6 0 6.9 0 8C0 9.1 0.9 10 2 10C3.1 10 4 9.1 4 8C4 6.9 3.1 6 2 6ZM2 12C0.9 12 0 12.9 0 14C0 15.1 0.9 16 2 16C3.1 16 4 15.1 4 14C4 12.9 3.1 12 2 12Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMoreVert);\nexport default __webpack_public_path__ + \"static/media/moreVert.f168cc53.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport styled from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\nimport Popover from '@material-ui/core/Popover'\r\nimport { ReactComponent as MoreVertIcon } from '../../images/moreVert.svg'\r\nimport {\r\n  activeTrip,\r\n  backTrip,\r\n  disactiveTrip,\r\n  removeTrip,\r\n} from '../../services/apiMethods'\r\nimport { getAuth } from '../../redux/global/globalSelectors'\r\nimport {\r\n  removeTripId,\r\n  statusTrip,\r\n  tripsError,\r\n  typeEdidTrip,\r\n  creteBackTrip,\r\n} from '../../redux/trips/tripsActions'\r\nimport Modal from '../../components/Modal'\r\nimport ConfirmRemove from '../ModalWindows/ConfirmRemove'\r\n\r\nconst TripItem = ({ trip }) => {\r\n  const dispatch = useDispatch()\r\n  const auth = useSelector(getAuth)\r\n  const [anchorEl, setAnchorEl] = useState(null)\r\n  const [isRemove, setIsRemove] = useState(false)\r\n\r\n  const openPopover = event => {\r\n    setAnchorEl(event.currentTarget)\r\n  }\r\n  const closePopover = () => {\r\n    setAnchorEl(null)\r\n  }\r\n\r\n  const open = Boolean(anchorEl)\r\n  const deleteTrip = () => {\r\n    setIsRemove(true)\r\n    setAnchorEl(null)\r\n  }\r\n  const toggleOpenModalRemove = () => setIsRemove(!isRemove)\r\n  const handleConfirmRemove = async () => {\r\n    try {\r\n      const { status } = await removeTrip(trip.id, auth)\r\n      if (status === 200) {\r\n        setIsRemove(!isRemove)\r\n        dispatch(removeTripId(trip.id))\r\n      }\r\n    } catch (error) {\r\n      dispatch(tripsError(error))\r\n    }\r\n  }\r\n\r\n  // переключаем статус ACTIVE/DISACTIVE\r\n  const toggleActiveTrip = async () => {\r\n    setAnchorEl(null)\r\n    try {\r\n      if (trip.status === 'ACTIVE') {\r\n        const { status } = await disactiveTrip(trip.id, auth)\r\n        if (status === 200) dispatch(statusTrip(trip.id, 'DISACTIVE'))\r\n      } else {\r\n        const { status } = await activeTrip(trip.id, auth)\r\n        if (status === 200) dispatch(statusTrip(trip.id, 'ACTIVE'))\r\n      }\r\n    } catch (error) {\r\n      dispatch(tripsError(error))\r\n    }\r\n  }\r\n  // создать обратный маршрут\r\n  const onBackTrip = async () => {\r\n    try {\r\n      const { data } = await backTrip(trip.id, auth)\r\n      dispatch(creteBackTrip(data))\r\n      setAnchorEl(null)\r\n    } catch (error) {\r\n      dispatch(tripsError(error))\r\n    }\r\n  }\r\n  // определяем тип редактирования как 'create'\r\n  const onEditTrip = () => dispatch(typeEdidTrip('edit'))\r\n\r\n  return (\r\n    <Box>\r\n      <Info>\r\n        {trip.status === 'ACTIVE' ? null : 'ОТКЛЮЧЕН'}\r\n        <Title>{trip.name}</Title>\r\n        <List>\r\n          {trip.tripNextDates &&\r\n            trip.tripNextDates.map((el, idx) => (\r\n              <li key={idx}>\r\n                <Span>{el}, </Span>\r\n              </li>\r\n            ))}\r\n        </List>\r\n      </Info>\r\n      <IconBox onClick={openPopover}>\r\n        <MoreVertIcon />\r\n      </IconBox>\r\n      <Popover\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={closePopover}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'center',\r\n        }}\r\n        transformOrigin={{\r\n          vertical: 'top',\r\n          horizontal: 'center',\r\n        }}\r\n      >\r\n        <StyledLink to={`/trip-edit?tripId=${trip.id}`} onClick={onEditTrip}>\r\n          Редактировать\r\n        </StyledLink>\r\n        <PopoverButton onClick={onBackTrip}>Создать обратный рейс</PopoverButton>\r\n\r\n        <PopoverButton onClick={toggleActiveTrip}>\r\n          {trip.status === 'ACTIVE' ? 'Отключить' : 'Включить'}\r\n        </PopoverButton>\r\n        <PopoverButton onClick={deleteTrip}>Удалить</PopoverButton>\r\n        {/*  */}\r\n      </Popover>\r\n      <Modal open={isRemove} onClose={toggleOpenModalRemove}>\r\n        <ConfirmRemove\r\n          name={`${trip.name}`}\r\n          onConfirm={handleConfirmRemove}\r\n          onCancel={toggleOpenModalRemove}\r\n        />\r\n      </Modal>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default TripItem\r\n\r\nconst Box = styled.div`\r\n  display: flex;\r\n  border-bottom: ${props => props.theme.border};\r\n  padding-bottom: 12px;\r\n  margin-bottom: 12px;\r\n`\r\nconst Info = styled.div`\r\n  width: 90%;\r\n`\r\nconst Title = styled.p`\r\n  margin-bottom: 6px;\r\n  font-size: 18px;\r\n  color: ${props => props.theme.textColorDark};\r\n`\r\nconst List = styled.ul`\r\n  padding: 0;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  & li {\r\n    display: inline;\r\n  }\r\n`\r\nconst Span = styled.span`\r\n  font-size: 14px;\r\n`\r\n\r\nconst IconBox = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 10%;\r\n`\r\nconst StyledLink = styled(Link)`\r\n  padding: 20px;\r\n  display: block;\r\n  border-bottom: ${prop => prop.theme.border};\r\n  color: ${prop => prop.theme.textColorDark};\r\n  &:hover {\r\n    background-color: #d4d4d4;\r\n  }\r\n`\r\nconst PopoverButton = styled.p`\r\n  padding: 20px;\r\n  border-bottom: ${prop => prop.theme.border};\r\n  cursor: pointer;\r\n  &:hover {\r\n    background-color: #d4d4d4;\r\n  }\r\n  &:last-child {\r\n    border-bottom: none;\r\n  }\r\n`\r\n","import { useEffect, useCallback } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport Loading from '../components/Loader'\r\nimport TripItem from '../components/TripsContainer/TripItem'\r\nimport { typeEdidTrip } from '../redux/trips/tripsActions'\r\nimport { getAllTrips } from '../redux/trips/tripsOperations'\r\nimport { getError, getLoader, getTrips } from '../redux/trips/tripsSelectors'\r\nimport { LoaderBox } from '../stylesheets/mainStyled'\r\n\r\nconst TripsPage = () => {\r\n  const dispatch = useDispatch()\r\n  const trips = useSelector(getTrips)\r\n  const loader = useSelector(getLoader)\r\n  const error = useSelector(getError)\r\n\r\n  const getTripsInfo = useCallback(() => dispatch(getAllTrips()), [dispatch])\r\n  useEffect(() => {\r\n    getTripsInfo()\r\n  }, [getTripsInfo])\r\n\r\n  // определяем тип редактирования как 'create'\r\n  const onCreateTrip = () => {\r\n    dispatch(typeEdidTrip('create'))\r\n  }\r\n  if (loader)\r\n    return (\r\n      <LoaderBox>\r\n        <Loading type=\"Oval\" color=\"#00BFFF\" height={200} width={200} />\r\n      </LoaderBox>\r\n    )\r\n  if (error) return <p>{error.message}</p>\r\n  return (\r\n    <>\r\n      <Container>\r\n        <List>\r\n          {trips.length > 0 ? (\r\n            trips.map(el => <TripItem key={el.id} trip={el} />)\r\n          ) : (\r\n            <Text>Добавьте свой первый маршрут</Text>\r\n          )}\r\n        </List>\r\n        <StyledLink to=\"/trip-main\" onClick={onCreateTrip}>\r\n          +\r\n        </StyledLink>\r\n      </Container>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default TripsPage\r\n\r\nconst Container = styled.div`\r\n  padding: 10px 20px 100px;\r\n`\r\nconst List = styled.ul`\r\n  margin: 0;\r\n  padding: 0;\r\n`\r\nconst StyledLink = styled(Link)`\r\n  position: fixed;\r\n  bottom: 16px;\r\n  right: 16px;\r\n  width: 70px;\r\n  height: 70px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: none;\r\n  border-radius: 50%;\r\n  background-color: ${prop => prop.theme.mainColor};\r\n  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.25);\r\n  color: ${prop => prop.theme.textColorLight};\r\n  font-size: 36px;\r\n`\r\nconst Text = styled.p`\r\n  font-size: 24px;\r\n  text-align: center;\r\n`\r\n"],"sourceRoot":""}
{"version":3,"sources":["images/arrowBack.svg","services/useCustomQuery.js","redux/reports/reportsSelectors.js","redux/reports/reportsActions.js","components/Reports/Order.js","pages/ReportsResultPage.js"],"names":["_path","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgArrowBack","_ref","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","id","d","ForwardRef","useQuery","URLSearchParams","useLocation","search","getReports","state","reports","getLoader","loader","getErrror","errror","getReport","data","type","Types","GET_REPORTS","payload","loaderReport","REPORTS_LOADER_START","errorReport","err","REPORTS_ERROR","Order","order","OrderBox","Box","Flex","Text","bold","price","amount","from","to","departure","services","map","el","operations","status","Name","customer","name","item","Text14","date","slice","Price","commission","styled","div","p","Header","ReportsResultPage","dispatch","useDispatch","history","useHistory","query","report","useSelector","onClick","push","Title","Container","Main","TextBold","get","total","saled","returned","orders","header","prop","theme","mainColor"],"mappings":"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","file":"static/js/24.36ae9356.chunk.js","sourcesContent":["var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrowBack(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 30,\n    height: 20,\n    viewBox: \"0 0 30 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M30 8.33333H6.38333L12.35 2.35L10 0L0 10L10 20L12.35 17.65L6.38333 11.6667H30V8.33333Z\",\n    fill: \"#7E7070\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowBack);\nexport default __webpack_public_path__ + \"static/media/arrowBack.beea4bf3.svg\";\nexport { ForwardRef as ReactComponent };","import { useLocation } from 'react-router'\r\n\r\nexport const useQuery = () => {\r\n  return new URLSearchParams(useLocation().search)\r\n}\r\n","export const getReports = state => state.reports.reports\r\n\r\nexport const getLoader = state => state.reports.loader\r\n\r\nexport const getErrror = state => state.reports.errror\r\n","import { Types } from '../actionTypes'\r\n\r\nexport const getReport = data => ({ type: Types.GET_REPORTS, payload: data })\r\n\r\nexport const loaderReport = () => ({ type: Types.REPORTS_LOADER_START })\r\n\r\nexport const errorReport = err => ({ type: Types.REPORTS_ERROR, payload: err })\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst Order = ({ order }) => {\r\n  return (\r\n    <OrderBox>\r\n      <Box margin-bottom=\"8px\">\r\n        <Flex>\r\n          <Text bold=\"700\">Заказ {order.id}</Text>\r\n          <Text bold=\"700\"> {order.price.amount} грн</Text>\r\n        </Flex>\r\n        <Text bold=\"400\">\r\n          {order.from}-{order.to}\r\n        </Text>\r\n        <Text>{order.departure}</Text>\r\n      </Box>\r\n      {order.services.map(el => (\r\n        <Box margin-bottom=\"8px\">\r\n          <Text bold=\"700\">\r\n            Билет {el.id} (\r\n            {el.operations[el.operations.length - 1].status === 'CONFIRM'\r\n              ? 'ОПЛАЧЕН'\r\n              : 'ВОЗВРВЩЕН'}\r\n            )\r\n          </Text>\r\n          <Name bold=\"700\">{el.customer.name}</Name>\r\n          {el.operations.map(item => (\r\n            <>\r\n              <Flex>\r\n                <Text14>\r\n                  {item.status === 'CONFIRM' ? 'ОПЛАЧЕН' : 'ВОЗВРВЩЕН'} -{' '}\r\n                  {item.date.slice(0, 19)}\r\n                </Text14>\r\n                <Price>{item.price.amount} грн</Price>\r\n              </Flex>\r\n              <Flex>\r\n                <p>Комиссия агента</p>\r\n                <p>{item.price.commission} грн</p>\r\n              </Flex>\r\n            </>\r\n          ))}\r\n        </Box>\r\n      ))}\r\n    </OrderBox>\r\n  )\r\n}\r\n\r\nexport default Order\r\n\r\nconst OrderBox = styled.div`\r\n  padding: 10px;\r\n  border-bottom: 1px solid;\r\n  max-width: 500px;\r\n`\r\nconst Box = styled.div`\r\n  ${props => props}\r\n  &:last-child {\r\n    margin: 0;\r\n  }\r\n`\r\nconst Flex = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n`\r\nconst Text = styled.p`\r\n  font-size: 18px;\r\n  font-weight: ${props => props.bold};\r\n  line-height: 1.3;\r\n`\r\nconst Text14 = styled.p`\r\n  font-size: 14px;\r\n`\r\nconst Price = styled.p`\r\n  min-width: 90px;\r\n  text-align: end;\r\n`\r\nconst Name = styled.p`\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  margin-bottom: 6px;\r\n`\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useHistory } from 'react-router'\r\nimport styled from 'styled-components'\r\nimport Order from '../components/Reports/Order'\r\nimport { ReactComponent as ArrowBackIcon } from '../images/arrowBack.svg'\r\nimport { getReport } from '../redux/reports/reportsActions'\r\nimport { getReports } from '../redux/reports/reportsSelectors'\r\nimport { useQuery } from '../services/useCustomQuery'\r\n\r\nconst ReportsResultPage = () => {\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const query = useQuery()\r\n\r\n  const report = useSelector(getReports)\r\n\r\n  const goBack = () => {\r\n    dispatch(getReport(null))\r\n    history.push('/reports')\r\n  }\r\n  return (\r\n    <div>\r\n      <Header>\r\n        <ArrowBackIcon onClick={goBack} />\r\n        <Title>Результат</Title>\r\n      </Header>\r\n      {report && (\r\n        <Container>\r\n          <Main>\r\n            <TextBold>Отправленных за период</TextBold>\r\n            <TextBold>\r\n              с {query.get('from')} по {query.get('to')}\r\n            </TextBold>\r\n\r\n            <Flex>\r\n              <TextBold>Всего продаж</TextBold>\r\n              <TextBold>{report.total.saled.amount} грн</TextBold>\r\n            </Flex>\r\n            <Flex>\r\n              <Text>Комиссия агента</Text>\r\n              <Text>{report.total.saled.commission} грн</Text>\r\n            </Flex>\r\n            <Flex>\r\n              <TextBold>Всего возвратов</TextBold>\r\n              <TextBold>{report.total.returned.amount} грн</TextBold>\r\n            </Flex>\r\n            <Flex>\r\n              <Text>Комиссия агента</Text>\r\n              <Text>{report.total.returned.commission} грн</Text>\r\n            </Flex>\r\n            <Flex>\r\n              <TextBold>Всего</TextBold>\r\n              <TextBold>{report.total.total.amount} грн</TextBold>\r\n            </Flex>\r\n            <Flex>\r\n              <Text>Комиссия агента</Text>\r\n              <Text>{report.total.total.commission} грн</Text>\r\n            </Flex>\r\n          </Main>\r\n          {report.orders.map(el => (\r\n            <Order key={el.id} order={el} />\r\n          ))}\r\n        </Container>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ReportsResultPage\r\n\r\nconst Header = styled.header`\r\n  display: flex;\r\n  align-items: center;\r\n  background-color: ${prop => prop.theme.mainColor};\r\n  padding: 12.4px 24px;\r\n`\r\n\r\nconst Title = styled.p`\r\n  margin-left: 20px;\r\n  font-size: 24px;\r\n`\r\nconst Container = styled.div`\r\n  padding: 15px 10px;\r\n`\r\nconst Main = styled.div`\r\n  max-width: 500px;\r\n  background-color: #f2f2f2;\r\n  padding: 10px;\r\n`\r\nconst TextBold = styled.p`\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  line-height: 1.5;\r\n`\r\nconst Text = styled.p`\r\n  font-size: 14px;\r\n`\r\nconst Flex = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  &:nth-last-child(2) {\r\n    border-top: 1px solid;\r\n    margin-top: 12px;\r\n  }\r\n`\r\n"],"sourceRoot":""}